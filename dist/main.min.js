/*! production 04-07-2019 */

angular.module("newapp").controller("LoginCtrl",["$scope","$http","$location","$route","resturl",function(t,e,o,a,r){t.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],o.search().hasOwnProperty("email")&&(t.successMessage="Your account verified successfully. Please login to your account.",$(".accountActivatedModal").modal("show")),t.isDisabled=!1,t.redirect=function(a){t.isDisabled=!0,e.post(r+"/user/login",a).then(function(e){1==e.data.success?(localStorage.setItem("loggedInUser",a.userName),o.path("/dashboard"),t.title=e.data.name,localStorage.setItem("loggedInUserName",t.title),t.userType=e.data.type,localStorage.setItem("loggedInUserType",t.userType),localStorage.setItem("loggedInuserId",e.data.userId)):0==e.data.success&&(t.errmsg=!0,t.errmessage=e.data.errorMessage,t.session.password="",t.isDisabled=!1,o.path("/login"))})},t.alerthide=function(){t.errmsg=!1},e.get(r+"/getAllCategories").then(function(e){t.menuitem=e.data.categoryData}),e.get(r+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){t.cartlist=e.data,t.cartCode=e.data.code,t.totalprice=e.data.total,null==e.data.shoppingCartItems?t.lengthofcart=0:t.lengthofcart=e.data.shoppingCartItems.length}),jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("vendorlogCtrl",["$scope","$http","$location","$route","resturl",function(t,e,o,a,r){t.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],t.isDisabled=!1,t.vendorlog=function(a){t.isDisabled=!0,e.post(r+"/user/login",a).then(function(e){1==e.data.success?(localStorage.setItem("loggedInUser",a.userName),o.path("/dashboard"),t.title=e.data.name,localStorage.setItem("loggedInUserName",t.title),t.userType=e.data.type,localStorage.setItem("loggedInUserType",t.userType),localStorage.setItem("loggedInuserId",e.data.userId)):0==e.data.success&&(t.errmsg=!0,t.errmessage=e.data.errorMessage,t.vlogin.password="",t.isDisabled=!1,o.path("/vendorlogin"))})},t.alerthide=function(){t.errmsg=!1},e.get(r+"/getAllCategories").then(function(e){t.menuitem=e.data.categoryData}),t.mouseOver=function(e){t.set_bg=function(){return t.bgimg=e.imageURL,{"background-image":"url(/clients/onesevenhome/img/"+t.bgimg+".jpg)"}}},e.get(r+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){t.cartlist=e.data,t.cartCode=e.data.code,t.totalprice=e.data.total,null==e.data.shoppingCartItems?t.lengthofcart=0:t.lengthofcart=e.data.shoppingCartItems.length})}]),angular.module("newapp").controller("RegistrationCtrl",["$scope","$http","$location","$route","resturl","$rootScope",function(t,o,r,e,n,a){t.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],o.get(n+"/getAllCategories").then(function(e){t.menuitem=e.data.categoryData}),localStorage.clear(),t.isDisabled=!1,t.alerthide=function(){t.errmsg=!1},null!=localStorage.loggedInUser?o.get(n+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){t.cartlist=e.data,t.cartCode=e.data.code,t.totalprice=e.data.total,null==e.data.shoppingCartItems?t.lengthofcart=0:t.lengthofcart=e.data.shoppingCartItems.length}):t.lengthofcart=0,t.register=function(e){t.isDisabled=!0,a.firstName=e.firstName,a.lastName=e.lastName,a.usertype=e.userType,e.activationURL="http://onesevenhome.com/#/activateuser",o.post(n+"/customer/registerBySmsOtp",e).then(function(e){"true"==e.data.status?(localStorage.setItem("session_id",JSON.stringify(e.data.otpSessionId)),$("#otpModalPopup").modal({backdrop:"static",keyboard:!1,show:!0})):(t.errmsg=!0,t.isDisabled=!1,r.path("/registration"),t.errmessage=e.data.errorMessage)})},t.verifyOTP=function(e){t.isDisabled=!0,$("#otpModalPopup").modal("hide");var a={phone:t.user.phone,smsOtpSessionId:JSON.parse(localStorage.getItem("session_id")),smsOtpNumber:e};o.post(n+"/user/activateBySms",a).then(function(e){"TRUE"==e.data.status&&(localStorage.clear(),r.path("/confirm"))},function(e){200!==e.status&&(t.errmessage="Invalid OTP. Enter valid OTP.",t.isError=!0,t.isDisabled=!1,$("#otpModalPopup").modal({backdrop:"static",keyboard:!1,show:!0}))})},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("vendorregCtrl",["$scope","$http","$location","$route","resturl","$rootScope",function(r,a,n,e,t,s){function o(o){r.isDisabled=!0,s.vendorName=o.companyName,s.usertype=o.userType,o.activationURL="http://onesevenhome.com/#/activateuser",a({method:"POST",url:t+"/user/register",headers:{"Content-Type":void 0},transformRequest:function(e){var a=new FormData;if(a.append("vendorRequest",JSON.stringify(o)),0==e.file.length)a.append("file",new File([""],"emptyFile.jpg",{type:"impage/jpeg"}));else for(var t=0;t<e.file.length;t++)a.append("file",e.file[t]);return a},data:{fileInfo:o,file:r.files}}).success(function(e,a,t,o){"true"==e.status?n.path("/conform"):(r.errmsg=!0,r.isDisabled=!1,n.path("/vendorreg"),r.errmessage=e.errorMessage)}).error(function(e,a,t,o){n.path("/vendorreg")})}a.get(t+"/getAllCategories").then(function(e){r.menuitem=e.data.categoryData}),r.isDisabled=!1,r.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],r.mouseOver=function(e){r.set_bg=function(){return r.bgimg=e.imageURL,{"background-image":"url(/clients/onesevenhome/img/"+r.bgimg+".jpg)"}}},r.alerthide=function(){r.errmsg=!1},a.get(t+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){r.cartlist=e.data,null==e.data.shoppingCartItems?r.lengthofcart=0:r.lengthofcart=e.data.shoppingCartItems.length}),r.files=[],r.$on("seletedFile",function(e,a){r.$apply(function(){r.files.push(a.file)})}),r.example8model=[],r.example8settings={checkBoxes:!0,enableSearch:!0},r.constitutionchange=function(e){if("Services"==e)a.get(t+"/services").then(function(e){for(var a=e.data.services,t=0;t<a.length;t++)delete a[t].imageURL1,delete a[t].imageURL2,delete a[t].description,delete a[t].new,a[t].label=a[t].serviceType,delete a[t].serviceType;r.example8data=a,r.example8model=[r.example8data[0]]});else if("Architects"==e){a.post(t+"/getCategoriesForCat",{searchString:"Architects"}).then(function(e){r.menuitems=angular.copy(e.data.categoryData);for(var a=r.menuitems[0].subCategory,t=0;t<a.length;t++)delete a[t].type,a[t].label=a[t].title,delete a[t].title,r.example8data=a,r.example8model=[r.example8data[0]]})}else"Machinery"==e?(r.catpayload={searchString:"MACHINERY & EQUIPMENT"},a.post(t+"/getCategoriesForCat",r.catpayload).then(function(e){r.menuitems=angular.copy(e.data.categoryData);for(var a=r.menuitems[0].subCategory,t=0;t<a.length;t++)delete a[t].type,a[t].label=a[t].title,delete a[t].title,r.example8data=a,r.example8model=[r.example8data[0]]})):"Wallpaper"==e&&(r.catpayload={searchString:"WALL PAPER"},a.post(t+"/getCategoriesForCat",r.catpayload).then(function(e){r.menuitems=angular.copy(e.data.categoryData);for(var a=r.menuitems[0].subCategory,t=0;t<a.length;t++)delete a[t].type,a[t].label=a[t].title,delete a[t].title,r.example8data=a,r.example8model=[r.example8data[0]]}))},r.regvendor=function(e){e.userType="VENDOR",r.vendor.country="India",e.constFirm=e.vendorConstFirm,delete e.vendorConstFirm,o(e)},r.Arcvendor=function(e){e.userType="ARCHITECTS",r.vendor.country="India",e.constFirm=e.vendorConstFirm,delete e.vendorConstFirm;var a=[];for(i=0;i<r.example8model.length;i++)a.push(r.example8model[i].id);e.architectIds=a,o(e)},r.Machineryvendor=function(e){e.userType="MACHINERY & EQUIPMENT",r.vendor.country="India",e.constFirm=e.vendorConstFirm,delete e.vendorConstFirm;var a=[];for(i=0;i<r.example8model.length;i++)a.push(r.example8model[i].id);e.architectIds=a,o(e)},r.wallpapervendor=function(e){e.userType="WALL PAPER",r.vendor.country="India",e.constFirm=e.vendorConstFirm,delete e.vendorConstFirm;var a=[];for(i=0;i<r.example8model.length;i++)a.push(r.example8model[i].id);e.architectIds=a,o(e)},r.regservices=function(e){e.userType="SERVICE",r.vendor.country="India",e.constFirm=e.vendorConstFirm,delete e[".vendorConstFirm"];var a=[];for(i=0;i<r.example8model.length;i++)a.push(r.example8model[i].id);e.serviceIds=a,o(e)},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),newapp.directive("uploadFiles",function(){return{scope:!0,link:function(o,e,a){e.bind("change",function(e){for(var a=e.target.files,t=0;t<a.length;t++)o.$emit("seletedFile",{file:a[t]})})}}}),angular.module("newapp").controller("forgetPassCtrl",["$scope","$http","$location","resturl",function(a,t,e,o){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],t.get(o+"/getAllCategories").then(function(e){a.menuitem=e.data.categoryData}),a.mouseOver=function(e){a.set_bg=function(){return a.bgimg=e.imageURL,{"background-image":"url(/clients/onesevenhome/img/"+a.bgimg+".jpg)"}}},t.get(o+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){a.cartlist=e.data,null!=e.data.shoppingCartItems?a.lengthofcart=e.data.shoppingCartItems.length:a.lengthofcart=0}),a.alerthide=function(){a.errmsg=!1},a.forget=function(e){e.forgotPwdURL="http://onesevenhome.com/#/newpassword",t.post(o+"/user/resetpwd",e).then(function(e){null==e.data.errorMessage?(a.errmsg=!0,a.errmessage=e.data.successMessage):(a.errmsg=!0,a.errmessage=e.data.errorMessage)})},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("newPassCtrl",["$scope","$http","$location","$routeParams","resturl",function(a,t,o,r,n){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],t.get(n+"/getAllCategories").then(function(e){a.menuitem=e.data.categoryData}),a.lengthofcart=0,a.alerthide=function(){a.errmsg=!1},a.isDisabled=!1,a.newpassword=function(e){a.isDisabled=!0,e.ofid=r.ofid,e.email=r.email,t.post(n+"/user/updatepwd",e).then(function(e){null==e.data.errorMessage?o.path("/login"):(a.errmsg=!0,a.isDisabled=!1,o.path("/newpassword"),a.errmessage=e.data.errorMessage)})},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("DashboardCtrl",["$scope","$http","$location","$routeParams","$filter","resturl","$interval","$rootScope",function(s,t,o,e,a,r,l,n){null!=localStorage.loggedInUser?(s.loggedInUser=localStorage.loggedInUser,s.loggedInUserName=localStorage.loggedInUserName,s.loggedInUserType=localStorage.loggedInUserType,s.loggedInuserId=localStorage.loggedInuserId,s.userlogged=!0):s.userlogged=!1,s.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],s.mouseOver=function(e){s.set_bg=function(){return s.bgimg=e.imageURL,{"background-image":"url(/clients/onesevenhome/img/"+s.bgimg+".jpg)"}}},s.logout=function(){localStorage.clear(),o.path("/login")},s.myProfile=function(){o.path("/myaccount")},s.topslides=[{img1:"img/Hero-Banners-Hall-530x922_1.jpg",img2:"img/Hero-Banners-kitchen-265x926_1.jpg",img3:"img/Hero-Banners-bedroom-265x926_1.jpg"},{img1:"img/Hero-Banners-Hall-530x922_2.jpg",img2:"img/Hero-Banners-kitchen-265x926_2.jpg",img3:"img/Hero-Banners-bedroom-265x926_3.jpg"},{img1:"img/Hero-Banners-Hall-530x922_3.jpg",img2:"img/Hero-Banners-kitchen-265x926_3.jpg",img3:"img/Hero-Banners-bedroom-265x926_3.jpg"},{img1:"img/Hero-Banners-Hall-530x922_4.jpg",img2:"img/Hero-Banners-kitchen-265x926_4.jpg",img3:"img/Hero-Banners-bedroom-265x926_4.jpg"}],s.slicktopslideConfig={dots:!0,arrows:!1,infinite:!0,autoplay:!0,autoplayspeed:1e3},t.get(r+"/getAllCategories").then(function(e){s.menuitem=e.data.categoryData}),t.get(r+"/getDealOfDay").then(function(e){s.dealday=e.data.dealOfDay;var a=[];for(abc=0;abc<e.data.dealOfDay.length;abc++)a[abc]="display"+abc;for(i=0;i<e.data.dealOfDay.length;i++)null==e.data.responseData[i].discountPercentage||null==e.data.responseData[i].discountPercentage?(s.showTag=a[i],s[s.showTag]=!1):(s.showTag=a[i],s[s.showTag]=!0);if(null!=e.data.dealOfDay){var t=new Date(e.data.dealOfDay.productPriceSpecialEndDate);t.setDate(t.getDate());var o=t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear(),n=new Date(o).getTime();l(function(){var e=(new Date).getTime(),a=n-e;s.hours=Math.floor(a%864e5/36e5),s.minutes=Math.floor(a%36e5/6e4),s.seconds=Math.floor(a%6e4/1e3);var t=Math.log(s.hours)*Math.LOG10E+1|0,o=Math.log(s.minutes)*Math.LOG10E+1|0,r=Math.log(s.seconds)*Math.LOG10E+1|0;t<2&&(s.hours="0"+s.hours),o<2&&(s.minutes="0"+s.minutes),r<2&&(s.seconds="0"+s.seconds)},1e3)}}),t.get(r+"/getNewProduct").then(function(e){s.products=e.data.newProducts,s.NewproductsLoaded=!0,s.slicknewproductsConfig={dots:!0,arrows:!1,infinite:!0,slidesToShow:2,slidesToScroll:1};var a=[];for(abc=0;abc<e.data.newProducts.length;abc++)a[abc]="display"+abc;for(i=0;i<e.data.newProducts.length;i++)"0"==e.data.newProducts[i].discountPercentage||null==e.data.newProducts[i].discountPercentage?(s.showTag=a[i],s[s.showTag]=!1):(s.showTag=a[i],s[s.showTag]=!0)}),t.get(r+"/getRecommendedProduct").then(function(e){for(s.recommend=e.data.recommendedProducts,i=0;i<e.data.recommendedProducts.length;i++)null==e.data.recommendedProducts[i].productDiscountPrice?(s.productprce=!0,s.produdsctprice=!1):(s.productprce=!1,s.produdsctprice=!0);s.RecomendLoaded=!0,s.slickrecommendedprocutsConfig={dots:!1,arrows:!0,infinite:!0,slidesToShow:5,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:3,slidesToScroll:1}},{breakpoint:800,settings:{arrows:!1,centerMode:!0,centerPadding:"0px",slidesToShow:3,slidesToScroll:1}},{breakpoint:767,settings:{arrows:!1,centerMode:!0,centerPadding:"0px",slidesToShow:2,slidesToScroll:1}},{breakpoint:500,settings:{arrows:!1,centerMode:!0,centerPadding:"0px",slidesToShow:1,slidesToScroll:1}}]}}),t.get(r+"/getFeatureProduct").then(function(e){s.feature=e.data.feaureProducts,s.FeaturedLoaded=!0,s.slickfeatureproductsConfig={dots:!0,arrows:!1,infinite:!0,slidesToShow:2,slidesToScroll:1}}),t.get(r+"/services").then(function(e){s.deal=e.data.services,s.SreviceLoaded=!0,s.slickServiceConfig={dots:!1,arrows:!1,infinite:!0,slidesToShow:3,slidesToScroll:3,autoplay:!0,autoplayspeed:600}}),t.get("js/controllers/whatwedo.json").then(function(e){s.whatWeDoResp=e.data.whatWeDoResponse,s.whatWeDoLoaded=!0,s.whatWeDoConfig={dots:!1,arrows:!0,infinite:!0,slidesToShow:5,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:3,slidesToScroll:1}},{breakpoint:800,settings:{arrows:!1,centerMode:!0,centerPadding:"0px",slidesToShow:3,slidesToScroll:1}},{breakpoint:767,settings:{arrows:!1,centerMode:!0,centerPadding:"0px",slidesToShow:2,slidesToScroll:1}},{breakpoint:500,settings:{arrows:!1,centerMode:!0,centerPadding:"0px",slidesToShow:1,slidesToScroll:1}}]}}),t.get(r+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){s.cartlist=e.data,null==e.data.shoppingCartItems?s.lengthofcart=0:s.lengthofcart=e.data.shoppingCartItems.length}),t.get(r+"/getAllSubCatImages").then(function(e){s.catImageData=e.data.responseData,s.subCatagoryImgsLoaded=!0,s.slickSubCatConfig={dots:!1,arrows:!1,infinite:!1,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplayspeed:700}});var d={status:"Y"};t.post(r+"/getTestimonials",d).then(function(e){s.testimonialData=e.data.responseData}),t.post(r+"/getBrandImages",d).then(function(e){s.brandData=e.data.responseData}),s.getDealDayPage=function(e){null!=e&&o.path("/productpage/"+e)},s.getSubCatPage=function(e,a){o.path("sub_category/"+e+"/categories/"+a)},s.getProductServicePage=function(e,a){null!=e&&null!=e.productId&&a?o.path("productpage/"+e.productId):a||null==e||null==e.serviceType||o.path("detailservices/"+e.serviceType+"/"+e.id)},s.getProductImage=function(e){s.getProdImgPath=e.imageURL1,s.serviceDescription=e.description},0==s.userlogged?s.testmonialView=!1:s.testmonialView=!0,s.submitTestimonial=function(e){var a={customerId:s.loggedInuserId,testmonialDescription:e};t.post(r+"/testimonial/save",a).then(function(e){"true"==e.data.status?(s.success=e.data.successMessage,$(".successPopup").modal("show")):(s.failure=e.data.errorMessage,$(".errorPopup").modal("show")),testmonialDescription=""})},t.get(r+"/getHomePageOffers").then(function(e){s.offersData=e.data.responseData}),s.getNotifications=function(e){var a={emailAddress:e};t.post(r+"/saveExternalUser",a).then(function(e){n.subscriptionData={},n.subscriptionData=e.data,o.path("/subscribed")})},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("ContactCtrl",["$scope","$http","$location","resturl",function(a,e,t,o){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.loggedInUserName=localStorage.loggedInUserName,a.userlogged=!0):a.userlogged=!1,a.logout=function(){localStorage.clear(),t.path("/login")},a.myProfile=function(){t.path("/myaccount")},e.get(o+"/getAllCategories").then(function(e){a.menuitem=e.data.categoryData}),e.get(o+"/admin/getStore").then(function(e){a.contactdetails=e.data.storeInfo}),e.get(o+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){a.cartlist=e.data,null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length}),jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("ServicesCtrl",["$scope","$http","$location","resturl",function(a,e,t,o){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.loggedInUserName=localStorage.loggedInUserName,a.userlogged=!0):a.userlogged=!1,1==a.userlogged&&(a.logout=function(){localStorage.clear(),t.path("/login")},a.mouseOver=function(e){a.set_bg=function(){return a.bgimg=e.imageURL,{"background-image":"url(/clients/onesevenhome/img/"+a.bgimg+".jpg)"}}},a.myProfile=function(){t.path("/myaccount")}),e.get(o+"/getAllCategories").then(function(e){a.menuitem=e.data.categoryData}),e.get(o+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){a.cartlist=e.data,null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length}),e.get(o+"/services").then(function(e){a.deal=e.data.services}),jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("DetailservicesCtrl",["$scope","$http","$routeParams","$location","resturl",function(n,i,s,l,d){n.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(n.loggedInUser=localStorage.loggedInUser,n.loggedInUserName=localStorage.loggedInUserName,n.loggedInUserType=localStorage.loggedInUserType,n.loggedInuserId=localStorage.loggedInuserId,n.userlogged=!0):n.userlogged=!1,n.mouseOver=function(e){n.set_bg=function(){return n.bgimg=e.imageURL,{"background-image":"url(/clients/onesevenhome/img/"+n.bgimg+".jpg)"}}},n.serveshow=!1,n.distance="",n.logout=function(){localStorage.clear(),l.path("/login")},n.myProfile=function(){l.path("/myaccount")},n.id=s.serviceid,n.selectedtype=s.sid,i.get(d+"/getAllCategories").then(function(e){n.menuitem=e.data.categoryData}),i.get(d+"/services").then(function(e){n.workers=e.data.services,$("#"+n.selectedtype).prop("checked",!0)}),i.get(d+"/services/"+s.sid+"/workers?pageNumber=1&pageSize=5").then(function(e){n.servicedetails=e.data.responseData,n.getStars=function(e){return parseFloat(e)/5*100+"%"},n.totalCount=e.data.paginationData.totalCount,$(".todaydeal-sorting label:contains("+n.selectedtype+")").prev().prop("checked",!0)}),n.page=1,n.detailsPagingAct=function(e,a,t){i.get(d+"/services/"+s.sid+"/workers?pageNumber="+e+"&pageSize=5").then(function(e){n.servicedetails=e.data.responseData,n.totalCount=e.data.paginationData.totalCount})},i.get(d+"/getRecommendedProduct").then(function(e){n.recommend=e.data.recommendedProducts,n.RecomendLoaded=!0,n.slickrecommendedprocutsConfig={dots:!1,arrows:!1,infinite:!0,slidesToShow:1,slidesToScroll:1}}),i.get(d+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){n.cartlist=e.data,null==e.data.shoppingCartItems?n.lengthofcart=0:n.lengthofcart=e.data.shoppingCartItems.length}),n.updateSelection=function(e,a,t,o,r){n.selectedtype==t?$("#"+n.selectedtype).prop("checked",!0):l.path("/detailservices/"+t+"/"+o)},n.onItemRating=function(e,a,t){var o={customerId:n.loggedInuserId,serviceId:a.id,serviceTypeId:s.serviceid,rating:e,reviewTitle:"",reviewDescription:""};i.post(d+"/servicerating/save",o).then(function(e){i.get(d+"/services/"+s.sid+"/workers?pageNumber=1&pageSize=5").then(function(e){n.servicedetails=e.data.responseData,n.getStars=function(e){return parseFloat(e)/5*100+"%"},n.totalCount=e.data.paginationData.totalCount,$(".todaydeal-sorting label:contains("+n.selectedtype+")").prev().prop("checked",!0)})})},n.openBookingModal=function(e){var a=new Date;a.setDate(a.getDate()),$("#appointmentDate").datepicker({autoclose:!0,format:"yyyy-mm-dd",startDate:a}),n.vendorName=e.companyName,n.vendorId=e.id,n.serviceTypeId=s.serviceid,n.popupDetails={},n.popupDetails.preferedTimings="",n.popupDetails.description="",n.popupDetails.contactinformation="",n.bookNowPopupForm.$setPristine(),n.bookNowPopupForm.$setUntouched(),$(".bookingModal").modal("show")},n.ratebook=function(e){n.ratingpopup={rateid:e.id,ratingcumponey:e.companyName}},n.confirmBooking=function(e){var a={customerId:n.loggedInuserId,serviceId:n.vendorId,serviceTypeId:n.serviceTypeId,preferedTimings:e.preferedTimings,description:e.description,contactinformation:e.contactinformation};$(".bookingModal").modal("hide"),i.post(d+"/services/booking",a).then(function(e){1==e.data.status?(n.success=e.data.successMessage,$("#SuccessModal").modal("show")):(n.failure=e.data.errorMessage,$("#errorMessageModal").modal("show"))})},n.onItemRating=function(a,e,t){n.starValue=a;var o={customerId:n.loggedInuserId,serviceId:e.id,serviceTypeId:s.serviceid,rating:n.starValue,reviewDescription:"",reviewTitle:""};i.post(d+"/servicerating/save",o).then(function(e){a=n.starValue,a="0",1==e.data.status?(i.get(d+"/services/"+s.sid+"/workers?pageNumber=1&pageSize=5").then(function(e){n.servicedetails=e.data.responseData,n.getStars=function(e){return parseFloat(e)/5*100+"%"},n.totalCount=e.data.paginationData.totalCount,$(".todaydeal-sorting label:contains("+n.selectedtype+")").prev().prop("checked",!0)}),n.success=e.data.successMessage,$(".successPopup").modal("show")):(n.failure=e.data.errorMessage,$(".errorPopup").modal("show"))})},n.searchVendor=function(e){var a={searchString:e,customerType:n.selectedtype};n.searchStr="",i.post(d+"/getServiceProvidersByLocation",a).then(function(e){null==e.data.paginationData&&(n.totalCount=0,n.servicedetails=""),n.servicedetails=e.data.responseData,null==e.data.responseData?(n.errorMsg=e.data.errorMsg,n.serveshow=!0):n.serveshow=!1,n.totalCount=e.data.paginationData.totalCount})},n.constitutionchange=function(e){n.serveshow=!1,"TopRated"==e&&(n.totalCount=0,i.get(d+"/services/"+s.sid+"/workers/toprated?pageNumber=1&pageSize=5").then(function(e){n.servicedetails=e.data.responseData,n.totalCount=e.data.paginationData.totalCount}),n.page=1,n.detailsPagingAct=function(e,a,t){i.get(d+"/services/"+s.sid+"/workers/toprated?pageNumber="+e+"&pageSize=5").then(function(e){n.servicedetails=e.data.responseData,n.totalCount=e.data.paginationData.totalCount})})},i.get(d+"/getUser/"+localStorage.loggedInuserId).then(function(e){"CUSTOMER"==localStorage.loggedInUserType?n.loggedInUserPincode=e.data.customerDetails.billing.postalCode:"SERVICE"==localStorage.loggedInUserType?n.loggedInUserPincode=e.data.serviceDetails.pinCode:n.loggedInUserPincode=e.data.vendorDetails.pinCode}),n.getProvidersByDistance=function(e){if(""!=e){var a=e.split("-");i.get(d+"/services/"+s.sid+"/"+n.loggedInUserPincode+"/"+a[0]+"/"+a[1]+"?pageNumber=1&pageSize=5").then(function(e){null!=e.data.responseData?(n.serveshow=!1,n.servicedetails=e.data.responseData,n.getStars=function(e){return parseFloat(e)/5*100+"%"},n.totalCount=e.data.paginationData.totalCount,$(".todaydeal-sorting label:contains("+n.selectedtype+")").prev().prop("checked",!0)):(n.serveshow=!0,n.servicedetails="",n.totalCount=0,n.errorMsg="No Service Providers are available over selected Range of Distance")})}},n.detailsPagingAct=function(e,a,t,o){if(""!=o){var r=o.split("-");i.get(d+"/services/"+s.sid+"/"+n.loggedInUserPincode+"/"+r[0]+"/"+r[1]+"?pageNumber="+e+"&pageSize=5").then(function(e){n.servicedetails=e.data.responseData,n.getStars=function(e){return parseFloat(e)/5*100+"%"},n.totalCount=e.data.paginationData.totalCount})}else i.get(d+"/services/"+s.sid+"/workers?pageNumber="+e+"&pageSize="+a).then(function(e){n.servicedetails=e.data.responseData,n.getStars=function(e){return parseFloat(e)/5*100+"%"},n.totalCount=e.data.paginationData.totalCount,$(".todaydeal-sorting label:contains("+n.selectedtype+")").prev().prop("checked",!0)})},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").directive("starRating",function(){return{restrict:"A",template:'<i class="fa fa-star" ng-repeat="star in stars" ng-class="star" aria-hidden="true"></i>',scope:{ratingValue:"=",max:"=",onRatingSelected:"&"},link:function(t,e,a){t.toggle=function(e){t.ratingValue=e+1,t.onRatingSelected({rating:e+1})},t.$watch("ratingValue",function(e,a){isNaN(a)||function(){t.stars=[];for(var e=0;e<t.max;e++)t.stars.push({disabled:e>t.ratingValue}),e==t.ratingValue&&(t.stars[e].disabled=!0)}()})}}}),angular.module("newapp").controller("TodaydealsCtrl",["$scope","$http","$location","resturl",function(r,n,e,i){r.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(r.loggedInUser=localStorage.loggedInUser,r.loggedInUserName=localStorage.loggedInUserName,r.userlogged=!0):r.userlogged=!1,r.mouseOver=function(e){r.set_bg=function(){return r.bgimg=e.imageURL,{"background-image":"url(/clients/onesevenhome/img/"+r.bgimg+".jpg)"}}},r.logout=function(){localStorage.clear(),e.path("/login")},r.myProfile=function(){e.path("/myaccount")},null==localStorage.loggedInuserId?r.showSignUp=!0:r.showSignUp=!1,n.get(i+"/getAllCategories").then(function(e){r.menuitem=e.data.categoryData}),n.get(i+"/getRecommendedProduct").then(function(e){r.recommend=e.data.recommendedProducts,r.RecomendLoaded=!0,r.slickrecommendedprocutsConfig={dots:!1,arrows:!1,infinite:!0,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplayspeed:500}}),r.todaycat=function(t,e,a){r.title=a.title,angular.forEach(e,function(e,a){t!=a&&(e.checked=!1)})};var o={status:1};n.post(i+"/getTodaysDeals?pageNumber=1&pageSize=12",o).then(function(e){r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount}),r.page=1,r.PagingAct=function(e,a,t){n.post(i+"/getTodaysDeals?pageNumber="+e+"&pageSize=12",o).then(function(e){r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount})},r.todaycat=function(t,e,a){r.title=a.title,angular.forEach(e,function(e,a){t!=a&&(e.checked=!1)});var o={status:1,categoryCode:r.title};n.post(i+"/getTodaysDealsForCat?pageNumber=1&pageSize=12",o).then(function(e){r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount,r.page=1,r.PagingAct=function(e,a,t){n.post(i+"/getTodaysDealsForCat?pageNumber="+e+"&pageSize=12",o).then(function(e){r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount})}})},r.active=function(){var o={status:1,category:r.title};n.post(i+"/getTodaysDeals?pageNumber=1&pageSize=12",o).then(function(e){r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount}),r.page=1,r.PagingAct=function(e,a,t){n.post(i+"/getTodaysDeals?pageNumber="+e+"&pageSize=12",o).then(function(e){r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount})},r.todaycat=function(t,e,a){r.title=a.title,angular.forEach(e,function(e,a){t!=a&&(e.checked=!1)});var o={status:0,category:r.title};n.post(i+"/getTodaysDeals?pageNumber=1&pageSize=12",o).then(function(e){r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount})}},r.Expired=function(){var o={status:0,category:r.title};n.post(i+"/getTodaysDeals?pageNumber=1&pageSize=12",o).then(function(e){r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount}),r.page=1,r.PagingAct=function(e,a,t){n.post(i+"/getTodaysDeals?pageNumber="+e+"&pageSize=12",o).then(function(e){r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount})},r.todaycat=function(t,e,a){r.title=a.title,angular.forEach(e,function(e,a){t!=a&&(e.checked=!1)});var o={status:0,categoryCode:r.title};n.post(i+"/getTodaysDealsForCat?pageNumber=1&pageSize=12",o).then(function(e){r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount,r.page=1,r.PagingAct=function(e,a,t){n.post(i+"/getTodaysDealsForCat?pageNumber="+e+"&pageSize=12",o).then(function(e){r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount})}})}},r.Upcoming=function(e){var o={status:2};n.post(i+"/getTodaysDeals?pageNumber=1&pageSize=12",o).then(function(e){r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount}),r.page=1,r.PagingAct=function(e,a,t){n.post(i+"/getTodaysDeals?pageNumber="+e+"&pageSize=12",o).then(function(e){r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount})},r.todaycat=function(t,e,a){r.title=a.title,angular.forEach(e,function(e,a){t!=a&&(e.checked=!1)});var o={status:2,categoryCode:r.title};n.post(i+"/getTodaysDealsForCat?pageNumber=1&pageSize=12",o).then(function(e){r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount,r.page=1,r.PagingAct=function(e,a,t){n.post(i+"/getTodaysDealsForCat?pageNumber="+e+"&pageSize=12",o).then(function(e){r.deal=e.data.todaysDealsData,r.totalCount=e.data.paginationData.totalCount})}})}},n.get(i+"/getRecentBought").then(function(e){r.recently=e.data.recentlyBought,r.RecentlyLoaded=!0,r.slickrecentbroughtConfig={dots:!1,arrows:!1,infinite:!0,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplayspeed:500,responsive:[{breakpoint:1024,settings:{arrows:!1,centerMode:!0,centerPadding:"0px",slidesToShow:3,slidesToScroll:1}},{breakpoint:800,settings:{arrows:!1,centerMode:!0,centerPadding:"0px",slidesToShow:2,slidesToScroll:1}},{breakpoint:767,settings:{arrows:!1,centerMode:!0,centerPadding:"0px",slidesToShow:1,slidesToScroll:1}}]}}),n.get(i+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){r.cartlist=e.data,null==e.data.shoppingCartItems?r.lengthofcart=0:r.lengthofcart=e.data.shoppingCartItems.length}),jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("ProductpageCtrl",["$scope","$http","$location","$routeParams","resturl",function(n,i,t,o,s){n.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(n.loggedInUser=localStorage.loggedInUser,n.loggedInUserName=localStorage.loggedInUserName,n.loggedInuserId=localStorage.loggedInuserId,n.userlogged=!0):n.userlogged=!1,n.isDisabled=!1,n.logout=function(){localStorage.clear(),t.path("/login")},n.myProfile=function(){t.path("/myaccount")},i.get(s+"/getAllCategories").then(function(e){n.menuitem=e.data.categoryData}),i.get(s+"/products/"+o.prodid).then(function(e){if(n.ppage=e.data,n.categoryCode=e.data.parentCategoryCode,n.categoryName=e.data.parentCategoryCode.replace("_"," "),n.subCategoryName=e.data.categoryCode.replace("_"," "),n.relatedProductList=e.data.relatedProductList,n.page=e.data.discountPercentage,n.pagedescription=e.data.productDescription,n.offerPrice=e.data.productDiscountPrice,n.mainPrice=e.data.productOriginalPrice,n.pointDescription=e.data.productDescTitle,n.ratings=[{number:e.data.avgReview}],n.recommend=e.data.recomendedProductList,n.RecomendLoaded=!0,n.slickrecommendedprocutsConfig={dots:!1,arrows:!1,infinite:!0,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplayspeed:500,responsive:[{breakpoint:1024,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:3,slidesToScroll:1}},{breakpoint:800,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:2,slidesToScroll:1}},{breakpoint:767,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1,slidesToScroll:1}}]},n.showPrice=!0,0!=n.page&&null!=n.page&&n.offerPrice!=n.mainPrice||(n.showPrice=!1,n.originalPriceValue=!0),null!=n.pointDescription){n.showDescPoints=!0,n.array=[];for(var a=n.pointDescription.split("#"),t=0;t<a.length;t++){var o={},r=a[t].split("*");o[".title"]=r[0],o[".value"]=r[1],n.array.push(o)}}else n.showDescPoints=!1;i.get(s+"/categories/services/"+n.categoryCode).then(function(e){n.serviceData=e.data.services[0]})}),i.get(s+"/products/"+o.prodid+"/reviews?pageNumber=1&pageSize=5").then(function(e){n.prod=e.data.reviewList,n.totalCount=e.data.paginationData.totalCount,n.averagereview=e.data.avgReview,n.userRatings=e.data.reviewList,n.totalreview=e.data.totalratingCount,n.uptotalCount=e.data.paginationData.totalCount,n.ratings=[{number:n.averagereview}]}),n.page=1,n.PagingAct=function(e,a,t){i.get(s+"/products/"+o.prodid+"/reviews?pageNumber="+e+"&pageSize=5").then(function(e){n.prod=e.data.reviewList,n.totalCount=e.data.paginationData.totalCount,n.averagereview=e.data.avgReview,n.userRatings=e.data.reviewList,n.totalreview=e.data.totalratingCount,n.ratings=[{number:n.averagereview}]})},n.getStars=function(e){return parseFloat(e)/5*100+"%"},0==n.userlogged?n.showReview=!1:(n.showReview=!0,n.onItemRating=function(e){n.starValue=e},n.submitReview=function(a){if(null==n.starValue)return n.failureMsg="Please provide rating.",void $("#errorModalPopup").modal("show");$("#writeReviewModal").modal("hide");var e={userId:n.loggedInuserId,productId:o.prodid,rating:n.starValue,description:a.description,descriptionName:n.loggedInUserName};i.post(s+"/products/reviews/save",e).then(function(e){i.get(s+"/products/"+o.prodid+"/reviews").then(function(e){n.prod=e.data,n.averagereview=e.data.avgReview,n.userRatings=e.data.reviewList,n.totalreview=e.data.totalRatingCount,n.ratings=[{number:n.averagereview}]}),"true"==e.data.status?(n.successMsg=e.data.message,$(".successPopup").modal("show")):(n.failureMsg=e.data.message,$(".errorPopup").modal("show")),n.firstRate=0,n.secondRate=0,n.readOnly=!0,a.description=""})}),n.getVendorsByUserPincode=function(){null!=localStorage.loggedInUser?(n.err=!1,n.notLoggedIn=!1,i.get(s+"/FindVendorsByProductId/"+o.prodid).then(function(e){null==e.data.vendorsDataForProduct?n.pagep=[{vendorId:1402,email:"admin@onesevenhome.com",password:null,confirmPassword:null,vendorName:"OneSevenHome",vendorOfficeAddress:null,houseNumber:"Dilsukhnagar",street:"16-11-741/C/2",area:"Indira Nagar",city:"Hyderabad",state:"Telangana",pinCode:"500036",country:null,vendorMobile:null,vendorTelephone:"9848351151",vendorFax:null,vendorConstFirm:"Dealer",vendorCompanyNature:"Large Scale",vendorRegistrationNo:null,vendorPAN:null,vendorLicense:null,vendorAuthCert:null,vendorExpLine:null,vendorMajorCust:null,vatRegNo:null,activationURL:null,vendorTIN:null,userProfile:null,gst:null,architectIds:[],file1:null,file2:null,file3:null}]:n.pagep=e.data.vendorsDataForProduct,n.productpageLoaded=!0,n.productvendorLoaded=!1,n.slickproductpageConfig={slidesToShow:5,slidesToScroll:1,prevNext:!0,arrows:!1,dots:!0,autoplay:!0,autoplaySpeed:1e4,speed:500,slidesPerRow:5,rows:1}})):(n.err=!1,n.resetBtn=!1,n.notLoggedIn=!0,n.message="Please login to view vendor(s) in your location (or) search for vendor(s) using Pincode...")},null!=localStorage.loggedInUser?n.getVendorsByUserPincode():(n.err=!1,n.resetBtn=!1,n.notLoggedIn=!0,n.message="Please login to view vendor(s) in your location (or) search for vendor(s) using Pincode..."),n.updateSelection=function(t,e,a){if(n.vendorIdValue=a.vendorId,$(".vendorCheck").is(":checked"))$("#del_event").removeAttr("disabled");else n.id=$("#del_event").attr("disabled","disabled");angular.forEach(e,function(e,a){t!=a&&(e.checked=!1)})},n.addcart=function(e){if(0==n.userlogged)t.path("/login");else if(null==e)n.failureMsg=" Enter quantity (atleast 1 item)",$("#errorModalPopup").modal("show");else{var a={productId:o.prodid,quantity:e,vendorId:n.vendorIdValue};i.post(s+"/cart/addShoppingCartItem?userId="+localStorage.loggedInuserId,a).then(function(e){n.lengthofcart=e.data.cartQuantity,t.path("/cart")})}},i.get(s+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){n.cartlist=e.data,null==e.data.shoppingCartItems?n.lengthofcart=0:n.lengthofcart=e.data.shoppingCartItems.length}),n.getpincode=function(e){i.get(s+"/seachPincodeWiseVendors/"+o.prodid+"?postalCode="+e).then(function(e){null==e.data.vendorsDataForProduct?(n.err=!0,n.resetBtn=!0,n.notLoggedIn=!0,n.message=e.data.status,n.pagep=e.data.vendorsDataForProduct):(n.pagep=e.data.vendorsDataForProduct,n.err=!1,n.notLoggedIn=!1,n.resetBtn=!1,n.productpageLoaded=!0,n.slickvendorConfig={slidesToShow:5,slidesToScroll:1,prevNext:!0,arrows:!1,dots:!0,autoplay:!0,autoplaySpeed:1e4,speed:500,slidesPerRow:5,rows:1}),n.postalCode=""})},n.openWriteReview=function(){$("#writeReviewModal").modal("show")},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("ProductlistCtrl",["$scope","$http","$routeParams","$location","$window","resturl",function(s,l,n,o,r,d){s.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],s.dropshow=!1,s.dropdownhide=!0,null!=localStorage.loggedInUser?(s.loggedInUser=localStorage.loggedInUser,s.loggedInUserName=localStorage.loggedInUserName,s.loggedInUserType=localStorage.loggedInUserType,s.loggedInuserId=localStorage.loggedInuserId,s.userlogged=!0,"5"==s.customertype&&(s.categorytype="Machinery & Equipment"),"VENDOR"==s.loggedInUserType&&"vendorcategories"==o.path().split("/")[1]?s.vendorproductadd=!0:s.vendorproductadd=!1,s.vendoradd=!0,s.vendorwishproductadd=!0,"vendorcategories"==o.path().split("/")[1]?l.get(d+"/vendor/"+s.loggedInuserId+"/categories/"+n.cid+"?pageNumber=1&pageSize=12").then(function(e){s.page=1,s.pagingincrement=!1,s.pagingnormal=!0,s.dropshow=!1,s.dropdownhide=!0,s.routedata=e,s.plist=e.data.responseData,"0"==e.data.responseData.length?(s.prodshow=!0,s.pagingnormal=!1,s.normalproduct=!1):(s.prodshow=!1,s.pagingnormal=!0,s.normalproduct=!0),s.maxProductPrice=e.data.maxProductPrice,s.totalCount=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize}):(s.vendoradd=!1,s.vendorwishproductadd=!1,s.vendorproductadd=!1)):s.userlogged=!1,s.logout=function(){localStorage.clear(),o.path("/login")},s.myProfile=function(){o.path("/myaccount")},s.categorytype=n.cid.replace(/_/g," "),""==n.sid||null==n.sid||(s.subcategorytype=n.sid.replace(/_/g," ")),s.subcattype=!0,l.get(d+"/getAllCategories").then(function(e){s.menuitem=e.data.categoryData;var a=e.data.categoryData.findIndex(function(e,a){return e.title===s.categorytype});s.categorySub=s.menuitem[a].subCategory,s.categorySub=s.categorySub.filter(function(e){return!0===e.status});var t=s.categorySub.findIndex(function(e,a){return e.title===s.subcategorytype});""==n.sid||null==n.sid?(s.categorySub[0].checked=!0,s.routeurl=s.categorySub[0].url,s.subcategorytype=s.categorySub[0].title):(s.categorySub[t].checked=!0,s.routeurl=s.categorySub[t].url),"vendorcategories"==o.path().split("/")[1]?l.get(d+"/vendor/"+s.loggedInuserId+"/categories/"+n.cid+"?pageNumber=1&pageSize=12").then(function(e){s.page=1,s.pagingincrement=!1,s.pagingnormal=!0,s.dropshow=!1,s.dropdownhide=!0,s.routedata=e,s.plist=e.data.responseData,"0"==e.data.responseData.length?(s.prodshow=!0,s.pagingnormal=!1):(s.prodshow=!1,s.pagingnormal=!0),s.totalCount=e.data.paginationData.totalCount,s.currentPage=e.data.paginationData.currentPage,s.pageSize=e.data.paginationData.pageSize,s.maxProductPrice=e.data.maxProductPrice,s.totalCount<s.pageSize&&(s.pageSize=s.totalCount)}):l.get(d+"/"+s.routeurl+"?pageNumber=1&pageSize=12").then(function(e){s.page=1,s.pagingincrement=!1,s.pagingnormal=!0,s.dropshow=!1,s.dropdownhide=!0,s.routedata=e,s.plist=e.data.responseData,"0"==e.data.responseData.length?(s.prodshow=!0,s.pagingnormal=!1,s.normalproduct=!1):(s.prodshow=!1,s.pagingnormal=!0,s.normalproduct=!0),s.totalCount=e.data.paginationData.totalCount,s.currentPage=e.data.paginationData.currentPage,s.pageSize=e.data.paginationData.pageSize,s.totalCount<s.pageSize&&(s.pageSize=s.totalCount),s.maxProductPrice=e.data.maxProductPrice;var a=[];for(abc=0;abc<e.data.responseData.length;abc++)a[abc]="display"+abc;for(i=0;i<e.data.responseData.length;i++)null==e.data.responseData[i].discountPercentage||null==e.data.responseData[i].discountPercentage?(s.showTag=a[i],s[s.showTag]=!1):(s.showTag=a[i],s[s.showTag]=!0)}),g(s.routeurl)}),s.constitutionchange=function(e){s.filtershow=!1,s.page=1,s.desc=e,""==s.desc&&(s.desc=12),"vendorcategories"==o.path().split("/")[1]?l.get(d+"/vendor/"+s.loggedInuserId+"/"+s.routeurl+"?pageNumber=1&pageSize="+s.desc).then(function(e){s.dropshow=!0,s.normalproduct=!0,s.dropdownhide=!1,s.pagingincrement=!1,s.pagingnormal=!0,s.routedata=e,s.plist=e.data.responseData,"0"==e.data.responseData.length?(s.prodshow=!0,s.pagingnormal=!1):(s.prodshow=!1,s.pagingnormal=!0),s.totalCount=e.data.paginationData.totalCount,s.currentPage=e.data.paginationData.currentPage,s.pageSize=e.data.paginationData.pageSize,s.maxProductPrice=e.data.maxProductPrice,s.totalCount<s.pageSize&&(s.pageSize=s.totalCount)}):l.get(d+"/"+s.routeurl+"?pageNumber=1&pageSize="+s.desc).then(function(e){s.dropshow=!0,s.normalproduct=!0,s.dropdownhide=!1,s.pagingincrement=!1,s.pagingnormal=!0,s.routedata=e,s.plist=e.data.responseData,"0"==e.data.responseData.length?(s.prodshow=!0,s.pagingnormal=!1,s.normalproduct=!1):(s.prodshow=!1,s.pagingnormal=!0,s.normalproduct=!0),s.totalCount=e.data.paginationData.totalCount,s.currentPage=e.data.paginationData.currentPage,s.pageSize=e.data.paginationData.pageSize,s.totalCount<s.pageSize&&(s.pageSize=s.totalCount),s.maxProductPrice=e.data.maxProductPrice;var a=[];for(abc=0;abc<e.data.responseData.length;abc++)a[abc]="display"+abc;for(i=0;i<e.data.responseData.length;i++)null==e.data.responseData[i].discountPercentage||null==e.data.responseData[i].discountPercentage?(s.showTag=a[i],s[s.showTag]=!1):(s.showTag=a[i],s[s.showTag]=!0)}),"vendorcategories"==o.path().split("/")[1]?(s.page="1",s.PagingAct=function(e,a,t){l.get(d+"/vendor/"+s.loggedInuserId+"/"+s.routeurl+"?pageNumber="+e+"&pageSize="+s.desc).then(function(e){s.dropshow=!0,s.normalproduct=!0,s.dropdownhide=!1,s.pagingincrement=!0,s.pagingnormal=!1,s.routedata=e,s.plist=e.data.responseData,s.totalCount=e.data.paginationData.totalCount,s.currentPage=e.data.paginationData.currentPage,s.pageSize=e.data.paginationData.pageSize,s.pagedropSize=s.pageSize*s.currentPage,s.currentPage=e.data.paginationData.currentPage,s.pageSize=e.data.paginationData.pageSize,s.totalCount<s.pageSize&&(s.pageSize=s.totalCount),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.totalCount<s.currentdropPage&&(s.currentdropPage=s.totalCount)})}):(s.page=1,s.PagingAct=function(e,a,t){s.pagingincrement=!0,s.normalproduct=!0,s.pagingnormal=!1,s.dropshow=!0,s.dropdownhide=!1,l.get(d+"/"+s.routeurl+"?pageNumber="+e+"&pageSize="+s.desc).then(function(e){r.scrollTo(0,0),s.plist=e.data.responseData,s.totalCount=e.data.paginationData.totalCount,s.currentPage=e.data.paginationData.currentPage,s.pageSize=e.data.paginationData.pageSize,s.pagedropSize=s.pageSize*s.currentPage,s.currentPage=e.data.paginationData.currentPage,s.pageSize=e.data.paginationData.pageSize,s.totalCount<s.pageSize&&(s.pageSize=s.totalCount),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.totalCount<s.pagedropSize&&(s.pagedropSize=s.totalCount),"0"==e.data.responseData.length?(s.prodshow=!0,s.normalproduct=!1):(s.prodshow=!1,s.normalproduct=!0);var a=[];for(abc=0;abc<e.data.responseData.length;abc++)a[abc]="display"+abc;for(i=0;i<e.data.responseData.length;i++)null==e.data.responseData[i].discountPercentage||null==e.data.responseData[i].discountPercentage?(s.showTag=a[i],s[s.showTag]=!1):(s.showTag=a[i],s[s.showTag]=!0)})})},"vendorcategories"==o.path().split("/")[1]?(s.page=1,s.PagingAct=function(e,a,t){l.get(d+"/vendor/"+s.loggedInuserId+"/"+s.routeurl+"?pageNumber="+e+"&pageSize=12").then(function(e){s.pagingincrement=!0,s.normalproduct=!0,s.pagingnormal=!1,s.dropdownhide=!0,s.dropshow=!1,s.routedata=e,s.plist=e.data.responseData,s.maxProductPrice=e.data.maxProductPrice,s.totalCount=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.currentPage=e.data.paginationData.currentPage,s.pageSize=e.data.paginationData.pageSize,s.totalCount<s.pageSize&&(s.pageSize=s.totalCount),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.totalCount<s.pagedropSize&&(s.pagedropSize=s.totalCount)})}):(s.page=1,s.PagingAct=function(e,a,t){l.get(d+"/"+s.routeurl+"?pageNumber="+e+"&pageSize=12").then(function(e){s.pagingincrement=!0,s.normalproduct=!0,s.pagingnormal=!1,s.dropdownhide=!0,s.dropshow=!1,r.scrollTo(0,0),s.plist=e.data.responseData,s.totalCount=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.currentPage=e.data.paginationData.currentPage,s.pageSize=e.data.paginationData.pageSize,s.totalCount<s.pageSize&&(s.pageSize=s.totalCount),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.totalCount<s.pagedropSize&&(s.pagedropSize=s.totalCount),"0"==e.data.responseData.length?s.prodshow=!0:s.prodshow=!1;var a=[];for(abc=0;abc<e.data.responseData.length;abc++)a[abc]="display"+abc;for(i=0;i<e.data.responseData.length;i++)null==e.data.responseData[i].discountPercentage||null==e.data.responseData[i].discountPercentage?(s.showTag=a[i],s[s.showTag]=!1):(s.showTag=a[i],s[s.showTag]=!0)})}),s.fil=function(a){angular.forEach(s.categorySub,function(e){e.checked=!1,s.subcategorytype=a.title}),a.checked=!0,s.subcattype=!0,s.routeurl=a.url,g(s.routeurl),"3"==n.cid?(s.arc=!0,s.list=!1,s.Novels=!1,s.loc=!0,s.mechinory=!1,s.wal=!1):"4"==n.cid?(s.arc=!1,s.list=!1,s.Novels=!1,s.loc=!0,s.mechinory=!1,s.wal=!0):("5"==n.cid?(s.arc=!1,s.list=!1,s.Novels=!1,s.loc=!0,s.mechinory=!0):(s.list=!0,s.Novels=!0,s.loc=!1,s.arc=!1,s.mechinory=!1),s.wal=!1),"vendorcategories"==o.path().split("/")[1]?l.get(d+"/vendor/"+s.loggedInuserId+"/"+s.routeurl+"?pageNumber=1&pageSize=12").then(function(e){s.routedata=e,s.plist=e.data.responseData,"0"==e.data.responseData.length?(s.prodshow=!0,s.pagingnormal=!1,s.normalproduct=!1):(s.prodshow=!1,s.pagingnormal=!0,s.normalproduct=!0),s.maxProductPrice=e.data.maxProductPrice,s.totalCount=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.currentPage=e.data.paginationData.currentPage,s.pageSize=e.data.paginationData.pageSize,s.totalCount<s.pageSize&&(s.pageSize=s.totalCount),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.totalCount<s.pagedropSize&&(s.pagedropSize=s.totalCount)}):(o.path("/sub_category/"+s.categorytype+s.routeurl),"Architects"!=n.catid&&l.get(d+"/"+s.routeurl+"?pageNumber=1&pageSize=12").then(function(e){s.routedata=e,s.plist=e.data.responseData,s.totalCount=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.currentPage=e.data.paginationData.currentPage,s.pageSize=e.data.paginationData.pageSize,s.totalCount<s.pageSize&&(s.pageSize=s.totalCount),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.totalCount<s.pagedropSize&&(s.pagedropSize=s.totalCount),"0"==e.data.responseData.length?(s.prodshow=!0,s.pagingnormal=!1,s.normalproduct=!1):(s.prodshow=!1,s.pagingnormal=!0,s.normalproduct=!0);var a=[];for(abc=0;abc<e.data.responseData.length;abc++)a[abc]="display"+abc;for(i=0;i<e.data.responseData.length;i++)null==e.data.responseData[i].discountPercentage||null==e.data.responseData[i].discountPercentage?(s.showTag=a[i],s[s.showTag]=!1):(s.showTag=a[i],s[s.showTag]=!0)}))},s.vendoraddprod=function(){var e=$(".vendor-chk-select input:checkbox:checked").map(function(){return $(this).val()}).get(),a={vendorId:s.loggedInuserId,productId:e};0==a.productId?alert("Please Select The Check Box"):l.post(d+"/addVendorProducts",a).then(function(e){"true"==e.data.status?(s.successmessage=e.data.successMessage,$(".successPopup").modal("show")):(s.errmessage=e.data.errorMessage,$(".errorPopup").modal("hide")),l.get(d+"/"+s.routeurl+"?pageNumber=1&pageSize=12").then(function(e){s.routedata=e,s.plist=e.data.responseData,s.totalCount=e.data.paginationData.totalCount,s.maxProductPrice=e.data.maxProductPrice})})};var c=[];function g(e){var a=e.split("/")[2];l.get(d+"/getFiltersByCategory/"+a).then(function(e){s.branditem=e.data.filters,s.selection=[],s.toggleSelection=function(e){var a=s.selection.indexOf(e);-1<a?s.selection.splice(a,1):s.selection.push(e)}})}s.filteritem=function(a,e){if(1==e?c.push(a):c=jQuery.grep(c,function(e){return e!==a}),0!=c.length){var t={filterIds:c};s.filterArr=t;var o={minPrice:s.minRangeSlider.minPrice,maxPrice:s.maxProductPrice,filterIds:c,categoryCode:s.subcategorytype,productRating:""};l.post(d+"/getProductsByFiltersAndPrice",o).then(function(e){null==e.data.paginationData&&(s.totalCount=0,s.plist=""),s.plist=e.data.filteredProducts,"0"==e.data.filteredProducts.length?(s.filtershow=!0,s.prodshow=!1,s.normalproduct=!1,s.pagingnormal=!1):(s.filtershow=!1,s.pagingnormal=!0,s.normalproduct=!0,s.prodshow=!1),s.totalCount=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.currentPage=e.data.paginationData.currentPage,s.pageSize=e.data.paginationData.pageSize,s.totalCount<s.pageSize&&(s.pageSize=s.totalCount),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.totalCount<s.pagedropSize&&(s.pagedropSize=s.totalCount);var a=[];for(abc=0;abc<e.data.responseData.length;abc++)a[abc]="display"+abc;for(i=0;i<e.data.responseData.length;i++)null==e.data.responseData[i].discountPercentage||null==e.data.responseData[i].discountPercentage?(s.showTag=a[i],s[s.showTag]=!1):(s.showTag=a[i],s[s.showTag]=!0)})}else s.plist=s.routedata.data.responseData,s.totalCount=resp.$scope.routedata.paginationData.totalCount,s.pageSize=resp.data.paginationData.pageSize,s.currentPage=resp.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.currentPage=resp.data.paginationData.currentPage,s.pageSize=resp.data.paginationData.pageSize,s.totalCount<s.pageSize&&(s.pageSize=s.totalCount),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.totalCount<s.pagedropSize&&(s.pagedropSize=s.totalCount)},l.get(d+"/getRecommendedProduct").then(function(e){s.recommend=e.data.recommendedProducts,s.RecomendLoaded=!0,s.slickrecommendedprocutsConfig={dots:!1,arrows:!1,infinite:!0,slidesToShow:5,slidesToScroll:1,autoplay:!0,autoplayspeed:600}}),l.get(d+"/getRecentBought").then(function(e){s.recently=e.data.recentlyBought,s.RecentlyLoaded=!0,s.slickrecentbroughtConfig={dots:!1,arrows:!1,infinite:!0,slidesToShow:5,slidesToScroll:1,autoplay:!0,autoplayspeed:500,responsive:[{breakpoint:1024,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:3,slidesToScroll:1}},{breakpoint:800,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:3,slidesToScroll:1}},{breakpoint:767,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1,slidesToScroll:1}}]}}),l.get(d+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){s.cartlist=e.data,null==e.data.shoppingCartItems?s.lengthofcart=0:s.lengthofcart=e.data.shoppingCartItems.length}),s.lengthofcart=0,s.hide=!0,s.vendoraddwish=function(){var e=$(".vendor-chk-select input:checkbox:checked").map(function(){return $(this).val()}).get(),a={vendorId:s.loggedInuserId,productId:e};0==a.productId?alert("Please Select The Check Box"):l.post(d+"/addVendorWishListProducts",a).then(function(e){"true"==e.data.status?(s.successmessage=e.data.successMessage,$(".successPopup").modal("show")):(s.errmessage=e.data.errorMessage,$(".errorPopup").modal("hide")),l.get(d+"/"+s.routeurl+"?pageNumber=1&pageSize=12").then(function(e){s.routedata=e,s.plist=e.data.responseData,s.totalCount=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.maxProductPrice=e.data.maxProductPrice})})},myEndListener=function(){s.dropshow=!1,s.dropdownhide=!0,s.pagingincrement=!1,s.pagingnormal=!0;var e={minPrice:s.minRangeSlider.minPrice,maxPrice:s.maxProductPrice,filterIds:c,categoryCode:s.subcategorytype,productRating:""};l.post(d+"/getProductsByFiltersAndPrice",e).then(function(e){s.plist=e.data.filteredProducts,null==e.data.paginationData&&(s.totalCount=0,s.plist=""),"0"==e.data.filteredProducts.length?(s.prodshow=!1,s.filtershow=!0,s.pagingnormal=!1,s.normalproduct=!1):(s.filtershow=!1,s.normalproduct=!0,s.pagingnormal=!0,s.prodshow=!1),s.totalCount=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.totalCount<s.pageSize&&(s.pageSize=s.totalCount),s.pagedropSize=s.pageSize*s.currentPage,s.totalCount<s.pagedropSize&&(s.pagedropSize=s.totalCount),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize}),s.page=1,s.PagingAct=function(e,a,t){var o={minPrice:s.minRangeSlider.minPrice,maxPrice:s.maxProductPrice,filterIds:c,categoryCode:s.subcategorytype,productRating:""};l.post(d+"/getProductsByFiltersAndPrice?pageNumber="+e+"&pageSize=12",o).then(function(e){s.plist=e.data.filteredProducts,null==e.data.paginationData&&(s.totalCount=0,s.plist=""),"0"==e.data.filteredProducts.length?(s.filtershow=!0,s.pagingnormal=!1,s.normalproduct=!1):(s.filtershow=!1,s.pagingnormal=!0,s.normalproduct=!0),s.totalCount=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.totalCount<s.pageSize&&(s.pageSize=s.totalCount),s.pagedropSize=s.pageSize*s.currentPage,s.totalCount<s.pagedropSize&&(s.pagedropSize=s.totalCount),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize})}},s.pricing=function(e){var a,r=e.minPrice,n=e.maxPrice;Number(r)>Number(n)&&(a=n,n=r,r=a);var t={minPrice:r,maxPrice:n,filterIds:c,categoryCode:s.subcategorytype,productRating:""};l.post(d+"/getProductsByFiltersAndPrice?pageNumber=1&pageSize=12",t).then(function(e){"0"==e.data.filteredProducts.length?(s.filtershow=!0,s.pagingnormal=!1,s.normalproduct=!1):(s.filtershow=!1,s.pagingnormal=!0,s.normalproduct=!0),s.plist=e.data.filteredProducts,null==e.data.paginationData&&(s.totalCount=0,s.plist=""),s.totalCount=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.totalCount<s.pageSize&&(s.pageSize=s.totalCount),s.pagedropSize=s.pageSize*s.currentPage,s.totalCount<s.pagedropSize&&(s.pagedropSize=s.totalCount),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize}),e.minPrice="",e.maxPrice="",s.page=1,s.PagingAct=function(e,a,t){var o={minPrice:r,maxPrice:n,filterIds:c,categoryCode:s.subcategorytype,productRating:""};l.post(d+"/getProductsByFiltersAndPrice?pageNumber="+e+"&pageSize=12",o).then(function(e){s.plist=e.data.filteredProducts,null==e.data.paginationData&&(s.totalCount=0,s.plist=""),"0"==e.data.filteredProducts.length?(s.filtershow=!0,s.pagingnormal=!1,s.normalproduct=!1):(s.filtershow=!1,s.pagingnormal=!0,s.normalproduct=!0),s.totalCount=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.totalCount<s.pageSize&&(s.pageSize=s.totalCount),s.pagedropSize=s.pageSize*s.currentPage,s.totalCount<s.pagedropSize&&(s.pagedropSize=s.totalCount),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize})}},s.minRangeSlider={minPrice:0,maxPrice:s.maxProductPrice,options:{floor:0,ceil:s.maxProductPrice,step:10,noSwitching:!0,hideLimitLabels:!0,onEnd:myEndListener}},s.firstRate=0,s.secondRate=0,s.readOnly=!0,s.onItemRating=function(e){var a=e;s.rating=a;var t={minPrice:s.minRangeSlider.minPrice,maxPrice:s.maxProductPrice,filterIds:c,categoryCode:s.subcategorytype,productRating:s.rating};l.post(d+"/getProductsByFiltersAndPrice",t).then(function(e){"0"==e.data.filteredProducts.length?(s.filtershow=!0,s.prodshow=!1,s.pagingnormal=!1,s.normalproduct=!1):(s.filtershow=!1,s.prodshow=!1,s.pagingnormal=!0,s.normalproduct=!0),s.plist=e.data.filteredProducts,null==e.data.paginationData&&(s.totalCount=0,s.plist=""),s.totalCount=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize})},s.resetSlider=function(){15!=s.reportDates&&(s.reportDates=""),5!=s.vendorsdropdown&&(s.vendorsdropdown=""),0!=s.minRangeSlider.minPrice&&(s.minRangeSlider.minPrice=0),s.maxProductPrice!=s.maxProductPrice&&(s.maxProductPrice=""),0!=s.rating&&(s.rating=0),s.firstRate=0,s.secondRate=0,s.readOnly=!0,null!=s.searchStr&&(s.searchStr=""),"3"==n.cid&&(null!=n.sid?(s.payload={code:n.sid},l.post(d+"/getVendorsList?pageNumber=1&pageSize=5",s.payload).then(function(e){s.arcdropven=!0,s.arcincrement=!1,s.arcnormal=!0,s.dropshow=!1,s.dropdownhide=!0,s.arclist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.arclistshow=!0,s.locationshow=!1,s.arcdropven=!1,s.arcnormal=!1):(s.arclistshow=!1,s.locationshow=!1),s.Count=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.pageSize=e.data.paginationData.pageSize,s.Count<s.pageSize&&(s.pageSize=s.Count),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.Count<s.pagedropSize&&(s.pagedropSize=s.Count)})):(s.payload={code:"Civil"},l.post(d+"/getVendorsList?pageNumber=1&pageSize=5",s.payload).then(function(e){s.arc=!0,s.arcincrement=!1,s.arcdropven=!0,s.arcnormal=!0,s.dropshow=!1,s.dropdownhide=!0,s.searchloc=!0,s.arclist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.locationshow=!1,s.arclistshow=!0,s.pagingnormal=!1):(s.arclistshow=!1,s.locationshow=!1,s.pagingnormal=!0),s.Count=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.pageSize=e.data.paginationData.pageSize,s.Count<s.pageSize&&(s.pageSize=s.Count),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.Count<s.pagedropSize&&(s.pagedropSize=s.Count)}))),"5"==n.cid&&(null!=n.sid?(s.payload={code:n.sid},l.post(d+"/getVendorsList?pageNumber=1&pageSize=5",s.payload).then(function(e){s.mechincrement=!1,s.mechdropven=!0,s.mechnormal=!0,s.dropshow=!1,s.dropdownhide=!0,s.mechlist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.mechlistshow=!0,s.locationshow=!1,s.mechdropven=!1,s.mechnormal=!1):(s.mechlistshow=!1,s.locationshow=!1),s.mechCount=e.data.paginationData.totalCount})):(s.payload={code:"Slab Equipment"},l.post(d+"/getVendorsList?pageNumber=1&pageSize=5",s.payload).then(function(e){s.mechincrement=!1,s.mechdropven=!0,s.mechnormal=!0,s.dropshow=!1,s.dropdownhide=!0,s.searchloc=!0,s.mechlist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.mechlistshow=!0,s.locationshow=!1,s.mechdropven=!1,s.mechnormal=!1):(s.mechlistshow=!1,s.locationshow=!1,s.mechdropven=!0),s.mechCount=e.data.paginationData.totalCount}))),"Wall Paper"==n.cid&&(null!=n.sid?(s.payload={code:n.sid},l.post(d+"/getVendorsList?pageNumber=1&pageSize=5",s.payload).then(function(e){s.walincrement=!1,s.walnormal=!0,s.dropshow=!0,s.dropdownhide=!1,s.wallist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.locationshow=!1,s.walllistshow=!0,s.pagingnormal=!1):(s.walllistshow=!1,s.locationshow=!1),s.walCount=e.data.paginationData.totalCount})):(s.payload={code:"Wall Papers"},l.post(d+"/getVendorsList?pageNumber=1&pageSize=5",s.payload).then(function(e){s.walincrement=!1,s.walnormal=!0,s.dropshow=!0,s.dropdownhide=!1,s.searchloc=!0,s.wallist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.locationshow=!1,s.walllistshow=!0,s.walnormal=!1,s.waldropven=!1):(s.walllistshow=!1,s.locationshow=!1),s.walCount=e.data.paginationData.totalCount}))),s.pageNumber="1",l.get(d+"/"+s.routeurl+"?pageNumber=1&pageSize=12").then(function(e){s.dropshow=!1,s.dropdownhide=!0,s.routedata=e,s.plist=e.data.responseData,s.currentPage=e.data.paginationData.currentPage,"0"==e.data.responseData.length?(s.prodshow=!0,s.filtershow=!0,s.pagingnormal=!1,s.normalproduct=!1):(s.prodshow=!1,s.filtershow=!1,s.normalproduct=!0),s.totalCount=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize-s.pageSize,s.maxProductPrice=e.data.maxProductPrice}),r.location.reload()},"Machinery & Equipment"==n.cid&&(s.categorytype="Machinery & Equipment",null!=n.sid&&(s.payload={code:n.sid},l.post(d+"/getVendorsList?pageNumber=1&pageSize=5",s.payload).then(function(e){s.mechincrement=!1,s.mechnormal=!0,s.mechdropven=!0,s.dropshow=!1,s.dropdownhide=!0,s.mechinory=!0,s.Novels=!1,s.meccat=!0,s.list=!1,s.searchloc=!0,s.mechlist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.mechlistshow=!0,s.locationshow=!1,s.mechdropven=!1,s.mechnormal=!1):(s.mechlistshow=!1,s.locationshow=!1),s.mechCount=e.data.paginationData.totalCount,s.mechsize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.mechsize*s.currentPage,s.mechCount<s.mechsize&&(s.mechsize=s.mechCount),2==s.currentPage?s.currentdropPage=s.mechsize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.mechCount<s.pagedropSize&&(s.pagedropSize=s.mechCount)}),s.page=1,s.MechAct=function(e,a,t){s.payload={code:n.sid},l.post(d+"/getVendorsList?pageNumber="+e+"&pageSize=5",s.payload).then(function(e){s.mechincrement=!0,s.mechnormal=!1,s.dropshow=!1,s.dropdownhide=!0,s.mechinory=!0,s.Novels=!1,s.list=!1,s.meccat=!0,s.searchloc=!0,s.mechlist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},s.mechCount=e.data.paginationData.totalCount,s.mechsize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.mechsize*s.currentPage,s.mechCount<s.mechsize&&(s.mechsize=s.mechCount),2==s.currentPage?s.currentdropPage=s.mechsize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.mechCount<s.pagedropSize&&(s.pagedropSize=s.mechCount)})}),s.firstRate=0,s.secondRate=0,s.readOnly=!0,s.onItemRating=function(e){var a=e;s.rating=a,null!=n.catid?s.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"5"}:s.vendorRating={rating:e,searchtype:s.categorySub[0].title,vendorType:"5"},l.post(d+"/getVendorPortFoliosByRating",s.vendorRating).then(function(e){s.mechlist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.mechlistshow=!0,s.locationshow=!1,s.pagingnormal=!1):(s.mechlistshow=!1,s.locationshow=!1,s.pagingnormal=!0),s.mechCount=e.data.paginationData.totalCount})},s.searchVendor=function(o){s.searchString=o,null!=n.catid?s.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"5"}:s.searchRequest={searchString:o,searchSubCategory:s.categorySub[0].title,customerType:"5"},l.post(d+"/getVendorsByLocation?pageNumber=1&pageSize=5",s.searchRequest).then(function(e){s.mechincrement=!1,s.mechnormal=!0,s.dropshow=!1,s.dropdownhide=!0,s.mechlist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.mechlistshow=!1,s.locationshow=!0,s.mechdropven=!1,s.mechnormal=!1):(s.mechlistshow=!1,s.locationshow=!1),s.mechCount=e.data.paginationData.totalCount}),s.page=1,s.MechAct=function(e,a,t){null!=n.catid?s.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"5"}:s.searchRequest={searchString:o,searchSubCategory:s.categorySub[0].title,customerType:"5"},l.post(d+"/getVendorsByLocation?pageNumber="+e+"&pageSize=5",s.searchRequest).then(function(e){s.mechlist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.mechlistshow=!1,s.locationshow=!0,s.pagingnormal=!1):(s.mechlistshow=!1,s.locationshow=!1,s.pagingnormal=!0),s.mechCount=e.data.paginationData.totalCount})}}),"Wall Paper"==n.cid&&(s.categorytype="Wall Paper",null!=n.sid&&(s.payload={code:n.sid},l.post(d+"/getVendorsList?pageNumber=1&pageSize=5",s.payload).then(function(e){s.walincrement=!1,s.walnormal=!0,s.waldropven=!0,s.dropshow=!1,s.dropdownhide=!0,s.wal=!0,s.Novels=!1,s.list=!1,s.walcat=!0,s.searchloc=!0,s.wallist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.walllistshow=!0,s.locationshow=!1,s.waldropven=!0,s.walnormal=!1):(s.walllistshow=!1,s.locationshow=!1),s.walCount=e.data.paginationData.totalCount,s.walSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.walSize*s.currentPage,s.walCount<s.walSize&&(s.walSize=s.walCount),2==s.currentPage?s.currentdropPage=s.walSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.walCount<s.pagedropSize&&(s.pagedropSize=s.walCount)}),s.page=1,s.walAct=function(e,a,t){s.payload={code:n.sid},l.post(d+"/getVendorsList?pageNumber=1&pageSize=5",s.payload).then(function(e){s.walincrement=!0,s.walnormal=!1,s.dropshow=!1,s.dropdownhide=!0,s.wal=!0,s.Novels=!1,s.list=!1,s.walcat=!0,s.searchloc=!0,s.wallist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},s.walCount=e.data.paginationData.totalCount,s.walSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.walSize*s.currentPage,s.walCount<s.walSize&&(s.walSize=s.walCount),2==s.currentPage?s.currentdropPage=s.walSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.walCount<s.pagedropSize&&(s.pagedropSize=s.walCount)})}),s.firstRate=0,s.secondRate=0,s.readOnly=!0,s.onItemRating=function(e){var a=e;s.rating=a,null!=n.catid?s.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"4"}:s.vendorRating={rating:e,searchSubCategory:s.categorySub[0].title,vendorType:"4"},l.post(d+"/getVendorPortFoliosByRating",s.vendorRating).then(function(e){s.wallist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.walllistshow=!0,s.locationshow=!1,s.walnormal=!1):(s.walllistshow=!1,s.locationshow=!1,s.walnormal=!0),s.walCount=e.data.paginationData.totalCount})},s.searchVendor=function(o){s.searchString=o,null!=n.catid?s.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"4"}:s.searchRequest={searchString:o,searchSubCategory:s.categorySub[0].title,customerType:"4"},l.post(d+"/getVendorsByLocation?pageNumber=1&pageSize=5",s.searchRequest).then(function(e){s.wallist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.walllistshow=!1,s.waldropven=!1,s.locationshow=!0,s.walnormal=!1):(s.walllistshow=!1,s.locationshow=!1,s.walnormal=!0),s.walCount=e.data.paginationData.totalCount}),s.page=1,s.PagingAct=function(e,a,t){null!=n.catid?s.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"4"}:s.searchRequest={searchString:o,searchSubCategory:s.categorySub[0].title,customerType:"4"},l.post(d+"/getVendorsByLocation?pageNumber="+e+"&pageSize=5",s.searchRequest).then(function(e){s.wallist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.walllistshow=!1,s.locationshow=!0,s.pagingnormal=!1):(s.walllistshow=!1,s.locationshow=!1,s.pagingnormal=!0),s.walCount=e.data.paginationData.totalCount})}}),"3"==n.cid&&(s.arc=!0,s.arccat=!0,s.Novels=!1,s.list=!1,s.searchloc=!0,s.categorytype="Architects",s.categorySub=n.subid,null!=n.sid&&(s.payload={code:n.sid},l.post(d+"/getVendorsList?pageNumber=1&pageSize=5",s.payload).then(function(e){s.arcincrement=!1,s.arcnormal=!0,s.dropshow=!1,s.dropdownhide=!0,s.arc=!0,s.arclist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.arclistshow=!0,s.locationshow=!1,s.arcdropven=!1,s.arcnormal=!1):(s.arclistshow=!1,s.locationshow=!1,s.arcdropven=!0),s.Count=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.pageSize=e.data.paginationData.pageSize,s.Count<s.pageSize&&(s.pageSize=s.Count),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.Count<s.pagedropSize&&(s.pagedropSize=s.Count)})),s.page=1,s.arcPagingAct=function(e,a,t){s.payload={code:n.sid},l.post(d+"/getVendorsList?pageNumber="+e+"&pageSize=5",s.payload).then(function(e){s.arcincrement=!0,s.arcnormal=!1,s.dropshow=!1,s.dropdownhide=!0,s.arc=!0,s.arclist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.arclistshow=!0,s.arcdropven=!1,s.arcnormal=!1):(s.arclistshow=!1,s.arcdropven=!0),s.Count=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.pageSize=e.data.paginationData.pageSize,s.Count<s.pageSize&&(s.pageSize=s.Count),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.Count<s.pagedropSize&&(s.pagedropSize=s.Count)})},s.firstRate=0,s.secondRate=0,s.readOnly=!0,s.onItemRating=function(e){var a=e;s.rating=a,null!=n.catid?s.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"3"}:s.vendorRating={rating:e,searchtype:s.categorySub[0].title,vendorType:"3"},l.post(d+"/getVendorPortFoliosByRating",s.vendorRating).then(function(e){s.pagingincrement=!1,s.pagingnormal=!0,s.dropshow=!1,s.dropdownhide=!0,s.arclist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.arclistshow=!0,s.locationshow=!1,s.pagingnormal=!1):(s.arclistshow=!1,s.locationshow=!1,s.pagingnormal=!0),s.Count=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.pageSize=e.data.paginationData.pageSize,s.Count<s.pageSize&&(s.pageSize=s.Count),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.Count<s.pagedropSize&&(s.pagedropSize=s.Count)})},s.searchVendor=function(o){s.searchString=o,null!=n.catid?s.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"3"}:s.searchRequest={searchString:o,searchSubCategory:s.categorySub[0].title,customerType:"3"},l.post(d+"/getVendorsByLocation?pageNumber=1&pageSize=5",s.searchRequest).then(function(e){s.arcincrement=!1,s.arcnormal=!0,s.dropshow=!1,s.dropdownhide=!0,s.arclist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.arclistshow=!1,s.locationshow=!0,s.arcdropven=!1,s.arcnormal=!1):(s.arclistshow=!1,s.locationshow=!1,s.arcdropven=!0),s.Count=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.pageSize=e.data.paginationData.pageSize,s.Count<s.pageSize&&(s.pageSize=s.Count),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.Count<s.pagedropSize&&(s.pagedropSize=s.Count)}),s.page=1,s.arcPagingAct=function(e,a,t){null!=n.catid?s.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"3"}:s.searchRequest={searchString:o,searchSubCategory:s.categorySub[0].title,customerType:"3"},l.post(d+"/getVendorsByLocation?pageNumber="+e+"&pageSize=5",s.searchRequest).then(function(e){s.arcincrement=!0,s.arcnormal=!1,s.dropshow=!1,s.dropdownhide=!0,s.arclist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},s.Count=e.data.paginationData.totalCount,"0"==e.data.responseData.length?(s.arclistshow=!0,s.locationshow=!1,s.arcnormal=!1):(s.arclistshow=!1,s.locationshow=!1),s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.pageSize=e.data.paginationData.pageSize,s.Count<s.pageSize&&(s.pageSize=s.Count),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.Count<s.pagedropSize&&(s.pagedropSize=s.Count)})}}),"3"==n.cid?"3"==n.cid&&"vendortypes"==o.path().split("/")[1]?(s.arc=!0,s.arccat=!0,s.list=!1,s.customertype=n.cid,s.payload={code:"Civil"},l.post(d+"/getVendorsList?pageNumber=1&pageSize=5",s.payload).then(function(e){s.arcincrement=!1,s.arcnormal=!0,s.dropshow=!1,s.dropdownhide=!0,s.arc=!0,s.searchloc=!0,s.arclist=e.data.responseData,"0"==e.data.responseData.length?(s.arclistshow=!0,s.arcdropven=!1,s.locationshow=!1,s.arcnormal=!1):(s.arclistshow=!1,s.locationshow=!1,s.arcdropven=!0),s.Count=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.pageSize=e.data.paginationData.pageSize,s.Count<s.pageSize&&(s.pageSize=s.Count),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.Count<s.pagedropSize&&(s.pagedropSize=s.Count)}),s.getStars=function(e){return parseFloat(e)/5*100+"%"},s.page=1,s.arcPagingAct=function(e,a,t){s.payload={code:"Civil"},l.post(d+"/getVendorsList?pageNumber="+e+"&pageSize=5",s.payload).then(function(e){s.arcincrement=!0,s.arcnormal=!1,s.dropshow=!1,s.dropdownhide=!0,s.arc=!0,s.searchloc=!0,s.arclist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.arclistshow=!0,s.arcdropven=!1,s.arcnormal=!1):(s.arclistshow=!1,s.arcdropven=!0),s.Count=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.pageSize=e.data.paginationData.pageSize,s.Count<s.pageSize&&(s.pageSize=s.Count),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.Count<s.pagedropSize&&(s.pagedropSize=s.Count)})},s.firstRate=0,s.secondRate=0,s.readOnly=!0,s.onItemRating=function(e){var a=e;s.rating=a,null!=n.catid?s.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"3"}:s.vendorRating={rating:e,searchSubCategory:s.categorySub[0].title,vendorType:"3"},l.post(d+"/getVendorPortFoliosByRating",s.vendorRating).then(function(e){s.arcincrement=!1,s.arcnormal=!0,s.dropshow=!1,s.dropdownhide=!0,s.arclist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.arclistshow=!0,s.arcdropven=!1,s.locationshow=!1,s.arcnormal=!1):(s.arclistshow=!1,s.arcdropven=!0,s.locationshow=!1),s.Count=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.pagedropSize=s.pageSize*s.currentPage,s.currentPage=e.data.paginationData.currentPage,s.pageSize=e.data.paginationData.pageSize,s.Count<s.pageSize&&(s.pageSize=s.Count),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.Count<s.pagedropSize&&(s.pagedropSize=s.Count)})},s.searchVendor=function(o){s.searchString=o,null!=n.catid?s.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"3"}:s.searchRequest={searchString:o,searchSubCategory:s.categorySub[0].title,customerType:"3"},l.post(d+"/getVendorsByLocation?pageNumber=1&pageSize=5",s.searchRequest).then(function(e){s.arcincrement=!1,s.arcnormal=!0,s.dropshow=!1,s.dropdownhide=!0,s.arclist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.arclistshow=!1,s.locationshow=!0,s.arcdropven=!1,s.arcnormal=!1):(s.arclistshow=!1,s.locationshow=!1,s.arcdropven=!0),s.Count=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.pageSize=e.data.paginationData.pageSize,s.Count<s.pageSize&&(s.pageSize=s.Count),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.Count<s.pagedropSize&&(s.pagedropSize=s.Count)}),s.page=1,s.arcPagingAct=function(e,a,t){null!=n.catid?s.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"3"}:s.searchRequest={searchString:o,searchSubCategory:s.categorySub[0].title,customerType:"3"},l.post(d+"/getVendorsByLocation?pageNumber="+e+"&pageSize=5",s.searchRequest).then(function(e){s.arcincrement=!0,s.arcnormal=!1,s.dropshow=!1,s.dropdownhide=!0,s.arclist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.arclistshow=!0,s.arcdropven=!1,s.arcnormal=!1):(s.arclistshow=!1,s.arcdropven=!0),s.Count=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.pageSize=e.data.paginationData.pageSize,s.Count<s.pageSize&&(s.pageSize=s.Count),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.Count<s.pagedropSize&&(s.pagedropSize=s.Count)})}}):(s.list=!1,s.arc=!1,s.wal=!1):"5"==n.cid&&"vendortypes"==o.path().split("/")[1]?(s.payload={code:"Slab Equipment"},l.post(d+"/getVendorsList?pageNumber=1&pageSize=5",s.payload).then(function(e){s.mechincrement=!1,s.mechnormal=!0,s.mechdropven=!0,s.dropshow=!1,s.dropdownhide=!0,s.mechinory=!0,s.meccat=!0,s.Novels=!1,s.searchloc=!0,s.mechlist=e.data.responseData,s.mechCount=e.data.paginationData.totalCount,s.mechsize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.mechsize*s.currentPage,s.mechCount<s.mechsize&&(s.mechsize=s.mechCount),2==s.currentPage?s.currentdropPage=s.mechsize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.getStars=function(e){return parseFloat(e)/5*100+"%"}}),s.page=1,s.MechAct=function(e,a,t){s.payload={code:"Slab Equipment"},l.post(d+"/getVendorsList?pageNumber="+e+"&pageSize=5",s.payload).then(function(e){s.mechincrement=!0,s.mechnormal=!1,s.dropshow=!1,s.dropdownhide=!0,s.mechinory=!0,s.searchloc=!0,s.mechlist=e.data.responseData,s.mechCount=e.data.paginationData.totalCount,s.mechCount=e.data.paginationData.totalCount,s.mechsize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.mechsize*s.currentPage,s.mechCount<s.mechsize&&(s.mechsize=s.mechCount),2==s.currentPage?s.currentdropPage=s.mechsize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.mechsize,s.mechCount<s.pagedropSize&&(s.pagedropSize=s.mechCount),s.getStars=function(e){return parseFloat(e)/5*100+"%"}})},s.firstRate=0,s.secondRate=0,s.readOnly=!0,s.onItemRating=function(e){null!=n.catid?s.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"5"}:s.vendorRating={rating:e,searchtype:s.categorySub[0].title,vendorType:"5"},l.post(d+"/getVendorPortFoliosByRating?pageNumber=1&pageSize=5",s.vendorRating).then(function(e){s.mechlist=e.data.responseData,s.mechCount=e.data.paginationData.totalCount,s.getStars=function(e){return parseFloat(e)/5*100+"%"}})},s.searchVendor=function(r){s.searchString=r,null!=n.catid?s.searchRequest={searchString:r,searchSubCategory:n.sid,customerType:"5"}:s.searchRequest={searchString:r,searchSubCategory:s.categorySub[0].title,customerType:"5"},l.post(d+"/getVendorsByLocation?pageNumber=1&pageSize=5",s.searchRequest).then(function(e){s.mechlist=e.data.responseData,s.mechCount=e.data.paginationData.totalCount,"0"==e.data.responseData.length?(s.mechlistshow=!1,s.locationshow=!0,s.mechnormal=!1):(s.mechlistshow=!1,s.locationshow=!1,s.mechnormal=!0),s.getStars=function(e){return parseFloat(e)/5*100+"%"}}),s.page=1,s.MechAct=function(e,a,t){var o={searchString:r,customerType:"5"};l.post(d+"/getVendorsByLocation?pageNumber="+e+"&pageSize=5",o).then(function(e){s.mechlist=e.data.responseData,s.mechCount=e.data.paginationData.totalCount})}},s.mechinory=!0,s.arc=!1,s.meccat=!0,s.wal=!1,s.loc=!0,s.Novels=!1,s.list=!1,s.categorytype="Machinery & Equipment"):"4"==n.cid&&"vendortypes"==o.path().split("/")[1]?("4"==n.cid&&(s.categorytype="Wall Paper"),s.payload={code:"Wall papers"},l.post(d+"/getVendorsList?pageNumber=1&pageSize=5",s.payload).then(function(e){s.walincrement=!1,s.walnormal=!0,s.dropshow=!1,s.dropdownhide=!0,s.wal=!0,s.walcat=!0,s.arc=!1,s.searchloc=!0,s.wallist=e.data.responseData,"0"==e.data.responseData.length?(s.walllistshow=!0,s.locationshow=!1,s.mechnormal=!1):(s.walllistshow=!1,s.locationshow=!1,s.mechnormal=!0),s.walCount=e.data.paginationData.totalCount,s.walSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.walSize*s.currentPage,s.walSize=e.data.paginationData.pageSize,s.walCount<s.walSize&&(s.walSize=s.walCount),2==s.currentPage?s.currentdropPage=s.walSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.walCount<s.pagedropSize&&(s.pagedropSize=s.walCount),s.getStars=function(e){return parseFloat(e)/5*100+"%"}}),s.page=1,s.walAct=function(e,a,t){s.payload={code:"Wall Papers"},l.post(d+"/getVendorsList?pageNumber="+e+"&pageSize=5",s.payload).then(function(e){s.walincrement=!0,s.walnormal=!1,s.dropshow=!1,s.dropdownhide=!0,s.wal=!0,s.searchloc=!0,s.wallist=e.data.responseData,s.walCount=e.data.paginationData.totalCount,s.walSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.walSize*s.currentPage,s.walCount<s.walSize&&(s.walSize=s.walCount),2==s.currentPage?s.currentdropPage=s.walSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.walCount<s.pagedropSize&&(s.pagedropSize=s.walCount),s.getStars=function(e){return parseFloat(e)/5*100+"%"}})},s.firstRate=0,s.secondRate=0,s.readOnly=!0,s.onItemRating=function(e){null!=n.catid?s.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"4"}:s.vendorRating={rating:e,searchtype:s.categorySub[0].title,vendorType:"4"},l.post(d+"/getVendorPortFoliosByRating",s.vendorRating).then(function(e){s.wallist=e.data,s.wallist=e.data.responseData,s.totalCount=e.data.paginationData.totalCount,s.getStars=function(e){return parseFloat(e)/5*100+"%"}})},s.searchVendor=function(o){s.searchString=o,null!=n.catid?s.searchRequest={searchString:s.searchStr,searchSubCategory:n.sid,customerType:"4"}:s.searchRequest={searchString:s.searchStr,searchSubCategory:s.categorySub[0].title,customerType:"4"},l.post(d+"/getVendorsByLocation?pageNumber=1&pageSize=5",s.searchRequest).then(function(e){s.wallist=e.data.responseData,"0"==e.data.responseData.length?(s.walllistshow=!1,s.walnormal=!1,s.locationshow=!0):(s.walllistshow=!1,s.locationshow=!1,s.walnormal=!0),s.walCount=e.data.paginationData.totalCount,s.getStars=function(e){return parseFloat(e)/5*100+"%"}}),s.page=1,s.PagingAct=function(e,a,t){null!=n.catid?s.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"4"}:s.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"5"},l.post(d+"/getVendorsByLocation?pageNumber="+e+"&pageSize=5",s.searchRequest).then(function(e){s.wallist=e.data.responseData,s.totalCount=e.data.paginationData.totalCount,s.getStars=function(e){return parseFloat(e)/5*100+"%"}})}},s.wal=!0,s.walcat=!0,s.mechinory=!1,s.Novels=!1,s.loc=!0,s.list=!1,s.customertype=n.cid):(s.list=!0,s.wal=!1,s.loc=!1,s.walcat=!1,s.mechinory=!1,s.Novels=!0),jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)}),s.vendorstypechange=function(e){s.filtershow=!1,s.page=1,s.vendordesc=e,""==s.vendordesc&&(s.vendordesc=5),"3"==n.cid?"3"==n.cid&&"vendortypes"==o.path().split("/")[1]?(s.arc=!0,s.arccat=!0,s.list=!1,s.customertype=n.cid,s.payload={code:"Civil"},l.post(d+"/getVendorsList?pageNumber=1&pageSize="+s.vendordesc,s.payload).then(function(e){s.arcincrement=!1,s.arcnormal=!0,s.dropshow=!0,s.dropdownhide=!1,s.arc=!0,s.searchloc=!0,s.arclist=e.data.responseData,"0"==e.data.responseData.length?(s.arclistshow=!0,s.arcdropven=!1,s.arcnormal=!1):(s.arclistshow=!1,s.arcdropven=!0),s.Count=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.pageSize=e.data.paginationData.pageSize,s.Count<s.pageSize&&(s.pageSize=s.Count),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.Count<s.pagedropSize&&(s.pagedropSize=s.Count)}),s.getStars=function(e){return parseFloat(e)/5*100+"%"},s.page=1,s.droparc=function(e,a,t){s.payload={code:"Civil"},l.post(d+"/getVendorsList?pageNumber="+e+"&pageSize="+s.vendordesc,s.payload).then(function(e){s.arcincrement=!0,s.arcnormal=!1,s.dropshow=!0,s.dropdownhide=!1,s.arc=!0,s.searchloc=!0,s.arclist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.arclistshow=!0,s.arcdropven=!1,s.arcnormal=!1):(s.arclistshow=!1,s.arcdropven=!0),s.Count=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.pageSize=e.data.paginationData.pageSize,s.Count<s.pageSize&&(s.pageSize=s.Count),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.Count<s.pagedropSize&&(s.pagedropSize=s.Count)})},s.firstRate=0,s.secondRate=0,s.readOnly=!0,s.onItemRating=function(e){var a=e;s.rating=a,null!=n.catid?s.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"3"}:s.vendorRating={rating:e,searchSubCategory:s.categorySub[0].title,vendorType:"3"},l.post(d+"/getVendorPortFoliosByRating",s.vendorRating).then(function(e){s.arcincrement=!1,s.arcnormal=!0,s.dropshow=!0,s.dropdownhide=!1,s.arclist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.arclistshow=!0,s.arcdropven=!1,s.arcnormal=!1):(s.arclistshow=!1,s.arcdropven=!0),s.Count=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.pagedropSize=s.pageSize*s.currentPage,s.currentPage=e.data.paginationData.currentPage,s.pageSize=e.data.paginationData.pageSize,s.Count<s.pageSize&&(s.pageSize=s.Count),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.Count<s.pagedropSize&&(s.pagedropSize=s.Count)})},s.searchVendor=function(o){null!=n.catid?s.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"3"}:s.searchRequest={searchString:o,searchSubCategory:s.categorySub[0].title,customerType:"3"},l.post(d+"/getVendorsByLocation?pageNumber=1&pageSize="+s.vendordesc,s.searchRequest).then(function(e){s.arcincrement=!1,s.arcnormal=!0,s.dropshow=!0,s.dropdownhide=!1,s.arclist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.arclistshow=!1,s.locationshow=!0,s.arcdropven=!1,s.arcnormal=!1):(s.arclistshow=!1,s.locationshow=!1,s.arcdropven=!0),s.Count=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.pagedropSize=s.pageSize*s.currentPage,s.currentPage=e.data.paginationData.currentPage,s.pageSize=e.data.paginationData.pageSize,s.Count<s.pageSize&&(s.pageSize=s.Count),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.Count<s.pagedropSize&&(s.pagedropSize=s.Count)}),s.page=1,s.droparc=function(e,a,t){null!=n.catid?s.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"3"}:s.searchRequest={searchString:o,searchSubCategory:s.categorySub[0].title,customerType:"3"},l.post(d+"/getVendorsByLocation?pageNumber="+e+"&pageSize="+s.vendordesc,s.searchRequest).then(function(e){s.arcincrement=!0,s.arcnormal=!1,s.dropshow=!0,s.dropdownhide=!1,s.arclist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.arclistshow=!1,s.locationshow=!0,s.arcdropven=!1,s.arcnormal=!1):(s.arclistshow=!1,s.locationshow=!1,s.arcdropven=!0),s.Count=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.pagedropSize=s.pageSize*s.currentPage,s.currentPage=e.data.paginationData.currentPage,s.pageSize=e.data.paginationData.pageSize,s.Count<s.pageSize&&(s.pageSize=s.Count),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.Count<s.pagedropSize&&(s.pagedropSize=s.Count)})}}):(s.list=!1,s.arc=!1,s.wal=!1):"5"==n.cid&&"vendortypes"==o.path().split("/")[1]?(s.payload={code:"Slab Equipment"},l.post(d+"/getVendorsList?pageNumber=1&pageSize="+s.vendordesc,s.payload).then(function(e){s.mechincrement=!1,s.mechnormal=!0,s.mechdropven=!0,s.dropshow=!0,s.dropdownhide=!1,s.mechinory=!0,s.meccat=!0,s.Novels=!1,s.searchloc=!0,s.mechlist=e.data.responseData,s.mechCount=e.data.paginationData.totalCount,s.mechsize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.mechsize*s.currentPage,s.mechCount<s.mechsize&&(s.mechsize=s.mechCount),2==s.currentPage?s.currentdropPage=s.mechsize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.getStars=function(e){return parseFloat(e)/5*100+"%"}}),s.page=1,s.MechAct=function(e,a,t){s.payload={code:"Slab Equipment"},l.post(d+"/getVendorsList?pageNumber="+e+"&pageSize="+s.vendordesc,s.payload).then(function(e){s.mechincrement=!0,s.mechnormal=!1,s.dropshow=!0,s.dropdownhide=!1,s.mechinory=!0,s.searchloc=!0,s.mechlist=e.data.responseData,s.mechCount=e.data.paginationData.totalCount,s.mechsize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.mechsize*s.currentPage,s.mechCount<s.mechsize&&(s.mechsize=s.mechCount),2==s.currentPage?s.currentdropPage=s.mechsize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.mechCount<s.pagedropSize&&(s.pagedropSize=s.mechCount),s.getStars=function(e){return parseFloat(e)/5*100+"%"}})},s.firstRate=0,s.secondRate=0,s.readOnly=!0,s.onItemRating=function(e){null!=n.catid?s.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"5"}:s.vendorRating={rating:e,searchtype:s.categorySub[0].title,vendorType:"5"},l.post(d+"/getVendorPortFoliosByRating?pageNumber=1&pageSize="+s.vendordesc,s.vendorRating).then(function(e){s.mechlist=e.data.responseData,s.mechCount=e.data.paginationData.totalCount,s.getStars=function(e){return parseFloat(e)/5*100+"%"}})},s.searchVendor=function(o){n.catid,s.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"5"},l.post(d+"/getVendorsByLocation?pageNumber=1&pageSize="+s.vendordesc,s.searchRequest).then(function(e){s.mechlist=e.data.responseData,s.mechCount=e.data.paginationData.totalCount,s.getStars=function(e){return parseFloat(e)/5*100+"%"}}),s.page=1,s.MechAct=function(e,a,t){s.searchRequest={searchString:o,customerType:"5"},l.post(d+"/getVendorsByLocation?pageNumber="+e+"&pageSize="+s.vendordesc,s.searchRequest).then(function(e){s.mechlist=e.data.responseData,s.mechCount=e.data.paginationData.totalCount})}},s.mechinory=!0,s.arc=!1,s.meccat=!0,s.wal=!1,s.loc=!0,s.Novels=!1,s.list=!1,s.categorytype="Machinery & Equipment"):"4"==n.cid&&"vendortypes"==o.path().split("/")[1]?("4"==n.cid&&(s.categorytype="Wall Paper"),s.payload={code:"Wall Papers"},l.post(d+"/getVendorsList?pageNumber=1&pageSize="+s.vendordesc,s.payload).then(function(e){s.walincrement=!1,s.walnormal=!0,s.dropshow=!0,s.dropdownhide=!1,s.wal=!0,s.walcat=!0,s.arc=!1,s.searchloc=!0,s.wallist=e.data.responseData,s.walCount=e.data.paginationData.totalCount,s.walSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.walSize*s.currentPage,s.walSize=e.data.paginationData.pageSize,s.walCount<s.walSize&&(s.walSize=s.walCount),2==s.currentPage?s.currentdropPage=s.walSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.walCount<s.pagedropSize&&(s.pagedropSize=s.walCount),s.getStars=function(e){return parseFloat(e)/5*100+"%"}}),s.page=1,s.walAct=function(e,a,t){s.payload={code:"Wall Papers"},l.post(d+"/getVendorsList?pageNumber="+e+"&pageSize="+s.vendordesc,s.payload).then(function(e){s.walincrement=!0,s.walnormal=!1,s.dropshow=!0,s.dropdownhide=!1,s.wal=!0,s.searchloc=!0,s.wallist=e.data.responseData,s.walCount=e.data.paginationData.totalCount,s.walSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.walSize*s.currentPage,s.walCount<s.walSize&&(s.walSize=s.walCount),2==s.currentPage?s.currentdropPage=s.walSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.walCount<s.pagedropSize&&(s.pagedropSize=s.walCount),s.getStars=function(e){return parseFloat(e)/5*100+"%"}})},s.firstRate=0,s.secondRate=0,s.readOnly=!0,s.onItemRating=function(e){null!=n.catid?s.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"4"}:s.vendorRating={rating:e,searchtype:s.categorySub[0].title,vendorType:"4"},l.post(d+"/getVendorPortFoliosByRating",s.vendorRating).then(function(e){s.wallist=e.data,s.wallist=e.data.responseData,s.totalCount=e.data.paginationData.totalCount,s.getStars=function(e){return parseFloat(e)/5*100+"%"}})},s.searchVendor=function(o){s.searchStr=o,n.catid,s.searchRequest={searchString:s.searchStr,searchSubCategory:n.sid,customerType:"4"},l.post(d+"/getVendorsByLocation?pageNumber=1&pageSize="+s.vendordesc,s.searchRequest).then(function(e){s.wallist=e.data.responseData,s.searchStr="",s.totalCount=e.data.paginationData.totalCount,s.getStars=function(e){return parseFloat(e)/5*100+"%"}}),s.page=1,s.PagingAct=function(e,a,t){null!=n.catid?s.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"4"}:s.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"5"},l.post(d+"/getVendorsByLocation?pageNumber="+e+"&pageSize="+s.vendordesc,s.searchRequest).then(function(e){s.wallist=e.data.responseData,s.totalCount=e.data.paginationData.totalCount,s.getStars=function(e){return parseFloat(e)/5*100+"%"}})}},s.wal=!0,s.walcat=!0,s.mechinory=!1,s.Novels=!1,s.loc=!0,s.list=!1,s.customertype=n.cid):(s.list=!0,s.wal=!1,s.loc=!1,s.walcat=!1,s.mechinory=!1,s.Novels=!0),"Wall Paper"==n.cid&&(s.categorytype="Wall Paper",null!=n.sid&&(s.payload={code:n.sid},l.post(d+"/getVendorsList?pageNumber=1&pageSize="+s.vendordesc,s.payload).then(function(e){s.walincrement=!1,s.walnormal=!0,s.dropshow=!0,s.dropdownhide=!1,s.wal=!0,s.Novels=!1,s.list=!1,s.walcat=!0,s.searchloc=!0,s.wallist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?s.walllistshow=!0:s.walllistshow=!1,s.walCount=e.data.paginationData.totalCount,s.walSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.walSize*s.currentPage,s.walCount<s.walSize&&(s.walSize=s.walCount),2==s.currentPage?s.currentdropPage=s.walSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.walCount<s.pagedropSize&&(s.pagedropSize=s.walCount)}),s.page=1,s.walAct=function(e,a,t){s.payload={code:n.sid},l.post(d+"/getVendorsList?pageNumber="+e+"&pageSize="+s.vendordesc,s.payload).then(function(e){s.walincrement=!0,s.walnormal=!1,s.dropshow=!0,s.dropdownhide=!1,s.wal=!0,s.Novels=!1,s.list=!1,s.walcat=!0,s.searchloc=!0,s.wallist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},s.walCount=e.data.paginationData.totalCount,s.walSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.walSize*s.currentPage,s.walCount<s.walSize&&(s.walSize=s.walCount),2==s.currentPage?s.currentdropPage=s.walSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.walCount<s.pagedropSize&&(s.pagedropSize=s.walCount)})}),s.firstRate=0,s.secondRate=0,s.readOnly=!0,s.onItemRating=function(e){var a=e;s.rating=a,null!=n.catid?s.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"4"}:s.vendorRating={rating:e,searchSubCategory:s.categorySub[0].title,vendorType:"4"},l.post(d+"/getVendorPortFoliosByRating",s.vendorRating).then(function(e){s.wallist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?s.walllistshow=!0:s.walllistshow=!1,s.walCount=e.data.paginationData.totalCount})},s.searchVendor=function(o){null!=n.catid?s.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"4"}:s.searchRequest={searchString:o,searchSubCategory:s.categorySub[0].title,customerType:"4"},l.post(d+"/getVendorsByLocation?pageNumber=1&pageSize="+s.vendordesc,s.searchRequest).then(function(e){s.wallist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?s.walllistshow=!0:s.walllistshow=!1,s.walCount=e.data.paginationData.totalCount}),s.page=1,s.walAct=function(e,a,t){null!=n.catid?s.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"4"}:s.searchRequest={searchString:o,searchSubCategory:s.categorySub[0].title,customerType:"4"},l.post(d+"/getVendorsByLocation?pageNumber="+e+"&pageSize="+s.vendordesc,s.searchRequest).then(function(e){s.wallist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?s.walllistshow=!0:s.walllistshow=!1,s.walCount=e.data.paginationData.totalCount})}}),"3"==n.cid&&(s.arc=!0,s.arccat=!0,s.Novels=!1,s.list=!1,s.searchloc=!0,s.categorytype="Architects",null!=n.sid&&(s.payload={code:n.sid},l.post(d+"/getVendorsList?pageNumber=1&pageSize="+s.vendordesc,s.payload).then(function(e){s.arcincrement=!1,s.arcnormal=!0,s.dropshow=!0,s.dropdownhide=!1,s.arc=!0,s.arclist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.arclistshow=!0,s.arcdropven=!1,s.arcnormal=!1):(s.arclistshow=!1,s.arcdropven=!0),s.Count=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.pageSize=e.data.paginationData.pageSize,s.Count<s.pageSize&&(s.pageSize=s.Count),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.Count<s.pagedropSize&&(s.pagedropSize=s.Count)}),s.page=1,s.droparc=function(e,a,t){s.payload={code:n.sid},l.post(d+"/getVendorsList?pageNumber="+e+"&pageSize="+s.vendordesc,payload).then(function(e){s.arcincrement=!0,s.dropshow=!0,s.arcnormal=!1,s.dropdownhide=!1,s.arc=!0,s.arclist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.arclistshow=!0,s.arcdropven=!1,s.arcnormal=!1):(s.arclistshow=!1,s.arcdropven=!0),s.Count=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.pageSize=e.data.paginationData.pageSize,s.Count<s.pageSize&&(s.pageSize=s.Count),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.Count<s.pagedropSize&&(s.pagedropSize=s.Count)})}),s.firstRate=0,s.secondRate=0,s.readOnly=!0,s.onItemRating=function(e){var a=e;s.rating=a,null!=n.catid?s.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"3"}:s.vendorRating={rating:e,searchtype:s.categorySub[0].title,vendorType:"3"},l.post(d+"/getVendorPortFoliosByRating",s.vendorRating).then(function(e){s.arcincrement=!1,s.arcnormal=!0,s.dropshow=!0,s.dropdownhide=!1,s.arclist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.arclistshow=!0,s.arcdropven=!1,s.arcnormal=!1):(s.arclistshow=!1,s.arcdropven=!0),s.Count=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.pageSize=e.data.paginationData.pageSize,s.Count<s.pageSize&&(s.pageSize=s.Count),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.Count<s.pagedropSize&&(s.pagedropSize=s.Count)})},s.searchVendor=function(o){s.searchString=o,null!=n.catid?s.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"3"}:s.searchRequest={searchString:o,searchSubCategory:s.categorySub[0].title,customerType:"3"},l.post(d+"/getVendorsByLocation?pageNumber=1&pageSize=5",s.searchRequest).then(function(e){s.arcincrement=!1,s.arcnormal=!0,s.dropshow=!0,s.dropdownhide=!1,s.arclist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?(s.arclistshow=!1,s.locationshow=!0,s.arcdropven=!1,s.arcnormal=!1):(s.arclistshow=!1,s.locationshow=!1,s.arcdropven=!0),s.Count=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.pageSize=e.data.paginationData.pageSize,s.Count<s.pageSize&&(s.pageSize=s.Count),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.Count<s.pagedropSize&&(s.pagedropSize=s.Count)}),s.page=1,s.droparc=function(e,a,t){null!=n.catid?s.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"3"}:s.searchRequest={searchString:o,searchSubCategory:s.categorySub[0].title,customerType:"3"},l.post(d+"/getVendorsByLocation?pageNumber="+e+"&pageSize="+s.vendordesc,s.searchRequest).then(function(e){s.arcincrement=!0,s.arcnormal=!1,s.dropshow=!0,s.dropdownhide=!1,s.arclist=e.data.responseData,"0"==e.data.responseData.length?(s.arclistshow=!1,s.locationshow=!0,s.arcdropven=!1,s.arcnormal=!1):(s.arclistshow=!1,s.locationshow=!1,s.arcdropven=!0),s.getStars=function(e){return parseFloat(e)/5*100+"%"},s.Count=e.data.paginationData.totalCount,s.pageSize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.pageSize*s.currentPage,s.pageSize=e.data.paginationData.pageSize,s.Count<s.pageSize&&(s.pageSize=s.Count),2==s.currentPage?s.currentdropPage=s.pageSize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.Count<s.pagedropSize&&(s.pagedropSize=s.Count)})}}),"Machinery & Equipment"==n.cid&&(s.categorytype="Machinery & Equipment",null!=n.sid&&(s.payload={code:n.sid},l.post(d+"/getVendorsList?pageNumber=1&pageSize="+s.vendordesc,s.payload).then(function(e){s.mechincrement=!1,s.mechnormal=!0,s.dropshow=!0,s.dropdownhide=!1,s.mechinory=!0,s.Novels=!1,s.meccat=!0,s.list=!1,s.searchloc=!0,s.mechlist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?s.mechlistshow=!0:s.mechlistshow=!1,s.mechCount=e.data.paginationData.totalCount,s.mechsize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.mechsize*s.currentPage,s.mechCount<s.mechsize&&(s.mechsize=s.mechCount),2==s.currentPage?s.currentdropPage=s.mechsize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.mechCount<s.pagedropSize&&(s.pagedropSize=s.mechCount)}),s.page=1,s.MechAct=function(e,a,t){s.payload={code:n.sid},l.post(d+"/getVendorsList?pageNumber="+e+"&pageSize=="+s.vendordesc,s.payload).then(function(e){s.mechincrement=!0,s.mechnormal=!1,s.dropshow=!0,s.dropdownhide=!1,s.mechinory=!0,s.Novels=!1,s.list=!1,s.meccat=!0,s.searchloc=!0,s.mechlist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},s.mechCount=e.data.paginationData.totalCount,s.mechsize=e.data.paginationData.pageSize,s.currentPage=e.data.paginationData.currentPage,s.pagedropSize=s.mechsize*s.currentPage,s.mechCount<s.mechsize&&(s.mechsize=s.mechCount),2==s.currentPage?s.currentdropPage=s.mechsize+1:1==s.currentPage?s.currentdropPage=s.currentPage:s.currentdropPage=s.pagedropSize+1-s.pageSize,s.mechCount<s.pagedropSize&&(s.pagedropSize=s.mechCount)})}),s.firstRate=0,s.secondRate=0,s.readOnly=!0,s.onItemRating=function(e){s.rateingarr=e,s.rating=rateingarr,null!=n.catid?s.vendorRating={rating:e,searchSubCategory:n.sid,vendorType:"5"}:s.vendorRating={rating:e,searchtype:s.categorySub[0].title,vendorType:"5"},l.post(d+"/getVendorPortFoliosByRating",s.vendorRating).then(function(e){s.mechlist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?s.mechlistshow=!0:s.mechlistshow=!1,s.mechCount=e.data.paginationData.totalCount})},s.searchVendor=function(o){null!=n.catid?s.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"5"}:s.searchRequest={searchString:o,searchSubCategory:s.categorySub[0].title,customerType:"5"},l.post(d+"/getVendorsByLocation?pageNumber=1&pageSize=5",s.searchRequest).then(function(e){s.mechlist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?s.mechlistshow=!0:s.mechlistshow=!1,s.mechCount=e.data.paginationData.totalCount}),s.page=1,s.MechAct=function(e,a,t){null!=n.catid?s.searchRequest={searchString:o,searchSubCategory:n.sid,customerType:"5"}:s.searchRequest={searchString:o,searchSubCategory:s.categorySub[0].title,customerType:"5"},l.post(d+"/getVendorsByLocation?pageNumber="+e+"&pageSize=5",s.searchRequest).then(function(e){s.mechlist=e.data.responseData,s.getStars=function(e){return parseFloat(e)/5*100+"%"},"0"==e.data.responseData.length?s.mechlistshow=!0:s.mechlistshow=!1,s.mechCount=e.data.paginationData.totalCount})}})}}]),angular.module("newapp").controller("myaccountCtrl",["$scope","$http","$location","$routeParams","$filter","resturl",function(n,s,r,e,t,l){if(n.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],n.fileOptions=[{name:"Certificate",value:"certificate"},{name:"File 1",value:"file1"},{name:"File 2",value:"file2"},{name:"File 3",value:"file3"}],null!=localStorage.loggedInUser?(n.loggedInUser=localStorage.loggedInUser,n.loggedInUserName=localStorage.loggedInUserName,n.loggedInUserType=localStorage.loggedInUserType,n.loggedInuserId=localStorage.loggedInuserId,n.userlogged=!0,"CUSTOMER"==n.loggedInUserType?(n.wishlist=!0,n.userprofile=!0,n.orderinvoice=!0,n.inbox=!0,n.addwishlist=!0,n.changepassword=!0,n.actclass="active"):"SERVICE"==n.loggedInUserType?(n.serviceprofile=!0,n.orderinvoice=!0,n.inbox=!0,n.addwishlist=!0,n.wishlist=!0,n.changepassword=!0,n.seractclass="active"):"ARCHITECTS"==n.loggedInUserType?(n.arcprofile=!0,n.Portfolio=!0,n.abtarchitecture=!0,n.inbox=!0,n.orderinvoice=!0,n.addwishlist=!0,n.wishlist=!0,n.changepassword=!0,n.architectureactclass="active"):"MACHINERY & EQUIPMENT"==n.loggedInUserType?(n.mechprofile=!0,n.mechPortfolio=!0,n.abtMachinery=!0,n.orderinvoice=!0,n.inbox=!0,n.addwishlist=!0,n.wishlist=!0,n.changepassword=!0,n.mechactclass="active"):"WALL PAPER"==n.loggedInUserType?(n.wallpaperprofile=!0,n.abtwal=!0,n.wallPortfolio=!0,n.wallpaperUpdate=!0,n.wallpaperDelete=!0,n.orderinvoice=!0,n.inbox=!0,n.addwishlist=!0,n.wishlist=!0,n.changepassword=!0,n.wallpaperactclass="active"):(n.wishlist=!0,n.vodtls=!0,n.orderinvoice=!0,n.profile=!0,n.productlist=!0,n.addproduct=!0,n.inbox=!0,n.reports=!0,n.changepassword=!0,n.venactclass="active")):(n.userlogged=!1,r.path("/login")),1==n.userlogged){n.logout=function(){localStorage.clear(),r.path("/login")},n.myProfile=function(){r.path("/myaccount")},s.get(l+"/getAllCategories").then(function(e){n.menuitem=e.data.categoryData}),n.changepassword=function(e){var a={emailAddress:localStorage.loggedInUser,currentPassword:e.currentPassword,newPassword:e.confirmPassword};s.post(l+"/changeUserpassword",a).then(function(e){"true"==e.data.status?(n.success=e.data.successMessage,$(".changepassPopup").modal("show")):(n.failure=e.data.errorMessage,$(".changepasserrPopup").modal("show"))})},s.get(l+"/getCategoryWithImages").then(function(e){n.account=e.data.categoryImagedata}),s.get("js/controllers/todayorders.json").then(function(e){n.todayorder=e.data.torder}),s.post(l+"/order/vendorOrderDetails/"+localStorage.loggedInuserId+"?userId="+localStorage.loggedInuserId+"&page=0&size=20").then(function(e){for(n.vendororder=e.data.orders,n.uptotalCount=e.data.totalPages,i=0;i<e.data.orders.length;i++)n.vendororder[i].totalamt=e.data.orders[i].total.value}),n.vendorgetOrder=function(e){n.orderid=e.id,n.orderDate=e.datePurchased,n.finalAmount=e.totalamt,s.post(l+"/order/orderDetails/"+n.orderid).then(function(e){for(n.idOfOrder=e.data.id,n.order=e.data.products,i=0;i<e.data.products.length;i++)n.order[i].vendor=e.data.products[i].vendorDetails.vendorName;n.shipaddress=e.data.delivery})},s.post(l+"/order/allOrderDetails?userId="+localStorage.loggedInuserId+"&page=0&size=5").then(function(e){for(n.myorder=e.data.orders,n.orderCount=e.data.totalPages,i=0;i<e.data.orders.length;i++)n.myorder[i].totalamt=e.data.orders[i].total.value}),n.numberorder=function(e,a,t){var o=e-1;s.post(l+"/order/allOrderDetails?userId="+localStorage.loggedInuserId+"&page="+o+"&size=5").then(function(e){for(n.myorder=e.data.orders,n.orderCount=e.data.totalPages,i=0;i<e.data.orders.length;i++)n.myorder[i].totalamt=e.data.orders[i].total.value})},n.getOrder=function(e){n.orderid=e.id,n.orderDate=e.datePurchased,n.finalAmount=e.totalamt,s.post(l+"/order/orderDetails/"+n.orderid).then(function(e){for(n.idOfOrder=e.data.id,n.order=e.data.products,i=0;i<e.data.products.length;i++)n.order[i].vendor=e.data.products[i].vendorDetails.vendorName;n.shipaddress=e.data.delivery})},n.hide=!0,n.vendorproduct=function(e){n.hide=!1,e.checked?n.hide=!1:n.hide=!0},s.get(l+"/productList/"+n.loggedInuserId+"?pageNumber=1&pageSize=15").then(function(e){n.mplist=e.data.responseData,n.total=e.data.paginationData.totalCount}),n.page=1,n.productAct=function(e,a,t){s.get(l+"/productList/"+n.loggedInuserId+"?pageNumber="+e+"&pageSize=15").then(function(e){n.mplist=e.data.responseData,n.total=e.data.paginationData.totalCount})},"VENDOR"==n.loggedInUserType?(n.whishcustomer=!1,n.vendorcustomer=!0,n.uncheck=!0):(n.vendorcustomer=!1,n.whishcustomer=!0,n.uncheck=!1),n.hide=!0,n.vendorselect=function(e){n.hide=!1,e.checked,n.hide=!1},s.get(l+"/wishlist/"+n.loggedInuserId+"?pageNumber=1&pageSize=15").then(function(e){n.mwlist=e.data.responseData,n.wishlisttotal=e.data.paginationData.totalCount}),n.page=1,n.wishAct=function(e,a,t){s.get(l+"/wishlist/"+n.loggedInuserId+"?pageNumber="+e+"&pageSize=15").then(function(e){n.mwlist=e.data.responseData,n.wishlisttotal=e.data.paginationData.totalCount})},n.wishlistDel=function(){var e=$(".vendor-chk-select input:checkbox:checked").map(function(){return $(this).val()}).get();if("0"==e.length)alert("Please select any one of the Product");else{var a={vendorId:n.loggedInuserId,productId:e};s.post(l+"/deleteWishListProducts",a).then(function(e){"true"==e.data.status?(n.successmessage=e.data.successMessage,$(".successPopup").modal("show")):(n.errmessage=e.data.errorMessage,$(".errorPopup").modal("hide")),s.get(l+"/wishlist/"+n.loggedInuserId+"?pageNumber=1&pageSize=15").then(function(e){n.mwlist=e.data.responseData,n.wishlisttotal=e.data.paginationData.totalCount})})}},$("#historyfromdate, #historytodate").datepicker({autoclose:!0,format:"yyyy-mm-dd",endDate:"today"}),n.historyByDate=function(e){var a={startDate:e.startDate,endDate:e.endDate,vendorId:localStorage.loggedInuserId};s.post(l+"/getProductRevenuesByVendor?pageNumber=1&pageSize=10",a).then(function(e){n.vendorreportdata=e.data.vendorProductRevenueData[0].vendorProducts,n.finalAmount=e.data.vendorProductRevenueData[0].totalRevenue,n.vendorid=e.data.vendorProductRevenueData[0].vendorId,n.vendorName=e.data.vendorProductRevenueData[0].vendorName,n.vendorsprodCount=e.data.paginationData.totalCount})},n.vendorgetOrder=function(e,a){var t={startDate:a.startDate,endDate:a.endDate,vendorId:localStorage.loggedInuserId};s.post(l+"/getProductVendors",t).then(function(e){$(".productModal").modal("show"),n.prodbyvendorbyrevenue=e.data.productVendorRevenueData[0].productVendors,n.productSku=e.data.productVendorRevenueData[0].productSku,n.productName=e.data.productVendorRevenueData[0].productName,n.vendorid=e.data.productVendorRevenueData[0].vendorId,n.vendorName=e.data.productVendorRevenueData[0].vendorName})},n.productDel=function(e){var a=$(".vendor-chk-select input:checkbox:checked").map(function(){return $(this).val()}).get();if("0"==a.length)alert("Please select any one of the Product");else{var t={vendorId:n.loggedInuserId,productId:a};s.post(l+"/deleteProductsFromProductList",t).then(function(e){"true"==e.data.status?(n.successmessage=e.data.successMessage,$(".successPopup").modal("show")):(n.errmessage=e.data.errorMessage,$(".errorPopup").modal("hide")),s.get(l+"/productList/"+n.loggedInuserId+"?pageNumber=1&pageSize=15").then(function(e){n.mplist=e.data.responseData,n.total=e.data.paginationData.totalCount})})}},s.get(l+"/getMessages/"+n.loggedInuserId+"?pageNumber=1&pageSize=10").then(function(e){n.msgData=e.data.responseData,n.msgCount=e.data.paginationData.totalCount}),n.page=0,n.msgPaging=function(e,a,t){s.get(l+"/getMessages/"+n.loggedInuserId+"?pageNumber="+e+"&pageSize=10").then(function(e){n.msgData=e.data.responseData,n.msgCount=e.data.paginationData.totalCount})},n.getmsgService=function(e){n.bookedDetails={category:e.category,dateAndTime:e.dateAndTime,postRequirementId:e.postRequirementId,query:e.query,responseMessage:e.responseMessage}},n.wishlistadd=function(){var e=$(".vendor-chk-select input:checkbox:checked").map(function(){return $(this).val()}).get(),a={vendorId:n.loggedInuserId,productId:e};s.post(l+"/addVendorProducts",a).then(function(e){"true"==e.data.status?(n.successmsg=e.data.successMessage,$(".successmechPopup").modal("show")):(n.failure="Product(s) already added ",$(".changepasserrPopup").modal("show"))})},n.portfoliodescriptionFun=function(e){var a={vendorId:n.loggedInuserId,vendorShortDescription:e.vendorShort,vendorDescription:e.vendorDesc};s.post(l+"/updateVendorDescription",a).then(function(e){1==e.data.status?(n.successmsg=e.data.successMessage,$(".successmechPopup").modal("show")):(n.failuremsg=e.data.errorMessage,$(".errormechPopup").modal("hide"))})},s.get(l+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){n.cartlist=e.data,null==e.data.shoppingCartItems?n.lengthofcart=0:n.lengthofcart=e.data.shoppingCartItems.length})}n.wallsettings={checkBoxes:!0,enableSearch:!0};if(s.post(l+"/getCategoriesForCat",{searchString:"WALL PAPER"}).then(function(e){n.menuitems=angular.copy(e.data.categoryData);for(var a=n.menuitems[0].subCategory,t=0;t<a.length;t++)delete a[t][".type"],a[t].label=a[t].title,delete a[t][".title"],n.walldata=a}),n.mechinarysettings={checkBoxes:!0,enableSearch:!0},n.catpayload={searchString:"MACHINERY & EQUIPMENT"},s.post(l+"/getCategoriesForCat",n.catpayload).then(function(e){n.menuitems=angular.copy(e.data.categoryData);for(var a=n.menuitems[0].subCategory,t=0;t<a.length;t++)delete a[t][".type"],a[t].label=a[t].title,delete a[t][".title"],n.Mechinarydata=a}),n.Architectsettings={checkBoxes:!0,enableSearch:!0},n.catpayload={searchString:"Architects"},s.post(l+"/getCategoriesForCat",n.catpayload).then(function(e){n.menuitems=angular.copy(e.data.categoryData);for(var a=n.menuitems[0].subCategory,t=0;t<a.length;t++)delete a[t][".type"],a[t].label=a[t].title,delete a[t][".title"],n.Architectdata=a}),n.servicessettings={checkBoxes:!0,enableSearch:!0},s.get(l+"/services").then(function(e){for(var a=e.data.services,t=0;t<a.length;t++)delete a[t][".imageURL1"],delete a[t][".imageURL2"],delete a[t][".description"],delete a[t][".new"],a[t].label=a[t].serviceType,delete a[t][".serviceType"];n.servicesdata=a}),n.Update=function(e){},s.get(l+"/getUser/"+localStorage.loggedInuserId).then(function(e){if("CUSTOMER"==n.loggedInUserType)n.userprofile=e.data.customerDetails,n.userprofile.address=e.data.customerDetails.billing.address,n.userprofile.state=e.data.customerDetails.billing.stateProvince,n.userprofile.city=e.data.customerDetails.billing.city,n.userprofile.phone=e.data.customerDetails.billing.phone,n.userprofile.postalCode=e.data.customerDetails.billing.postalCode,n.$watch("userprofile.dob",function(e){n.userprofile.dob=t("date")(e,"yyyy-MM-dd")});else if("SERVICE"==n.loggedInUserType){n.vendorprofile=e.data.serviceDetails,n.vendorprofile.country="India";var a=e.data.serviceDetails.vendorAuthCert;for(n.cert=!0,n.files1=!0,n.files2=!0,n.files3=!0,null==a&&(n.cert=!1),null==e.data.serviceDetails.file1&&(n.files1=!1),null==e.data.serviceDetails.file2&&(n.files2=!1),null==e.data.serviceDetails.file3&&(n.files3=!1),n.servicesmodel=[],n.selectedIds=[],i=0;i<e.data.serviceDetails.serviceIds.length;i++)n.selectedIds.push(n.servicesdata[i]),n.servicesmodel=n.selectedIds}else if("ARCHITECTS"==n.loggedInUserType){for(n.vendorprofile=e.data.vendorDetails,n.vendorprofile.country="India",n.certficateValue=e.data.vendorDetails.vendorAuthCert,n.cert=!0,n.files1=!0,n.files2=!0,n.files3=!0,null==n.certficateValue&&(n.cert=!1),null==e.data.vendorDetails.file1&&(n.files1=!1),null==e.data.vendorDetails.file2&&(n.files2=!1),null==e.data.vendorDetails.file3&&(n.files3=!1),n.architectmodel=[],n.architectIds=[],i=0;i<e.data.vendorDetails.architectIds.length;i++)n.architectIds.push(n.Architectdata[i]);n.architectmodel=n.architectIds}else if("MACHINERY & EQUIPMENT"==n.loggedInUserType){for(n.vendorprofile=e.data.vendorDetails,n.vendorprofile.country="India",n.certficateValue=e.data.vendorDetails.vendorAuthCert,n.cert=!0,n.files1=!0,n.files2=!0,n.files3=!0,null==n.certficateValue&&(n.cert=!1),null==e.data.vendorDetails.file1&&(n.files1=!1),null==e.data.vendorDetails.file2&&(n.files2=!1),null==e.data.vendorDetails.file3&&(n.files3=!1),n.mechinarymodel=[],n.architectIds=[],i=0;i<e.data.vendorDetails.architectIds.length;i++)n.architectIds.push(n.Mechinarydata[i]);n.mechinarymodel=n.architectIds}else if("WALL PAPER"==n.loggedInUserType){for(n.vendorprofile=e.data.vendorDetails,n.vendorprofile.country="India",n.certficateValue=e.data.vendorDetails.vendorAuthCert,n.cert=!0,n.files1=!0,n.files2=!0,n.files3=!0,null==n.certficateValue&&(n.cert=!1),null==e.data.vendorDetails.file1&&(n.files1=!1),null==e.data.vendorDetails.file2&&(n.files2=!1),null==e.data.vendorDetails.file3&&(n.files3=!1),n.wallmodel=[],n.architectIds=[],i=0;i<e.data.vendorDetails.architectIds.length;i++)n.architectIds.push(n.walldata[i]);n.wallmodel=n.architectIds}else n.vendorprofile=e.data.vendorDetails,n.vendorprofile.country="India",n.certficateValue=e.data.vendorDetails.vendorAuthCert,n.cert=!0,n.files1=!0,n.files2=!0,n.files3=!0,null==n.certficateValue&&(n.cert=!1),null==e.data.vendorDetails.file1&&(n.files1=!1),null==e.data.vendorDetails.file2&&(n.files2=!1),null==e.data.vendorDetails.file3&&(n.files3=!1)}),n.alerthide=function(){n.errmsg=!1},$(".vendorpic").change(function(){var e=$(".vendorpic")[0].files[0].name;$("#vendorpicselect_file").html(e)}),$(".vendorcert").change(function(){var e=$(".vendorcert")[0].files[0].name;$("#vendorcert_select").html(e)}),n.files=[],n.fileIDs=[],$("input[type='file']").on("change",function(e){for(var a=event.target.files,t=0;t<a.length;t++)n.files.push(a[t]),n.fileIDs.push(event.target.id)}),"CUSTOMER"==n.loggedInUserType)n.Update=function(e){delete e.billing,delete e.delivery,delete e.activated,delete e.password,delete e.language,delete e.customerType,delete e.userName,s.post(l+"/customer/update",e).then(function(e){"true"==e.data.status?($(".changepassPopup").modal("show"),n.success=e.data.successMessage):(n.errmsg=!0,n.success=e.data.errorMessage)})};else if("VENDOR"==n.loggedInUserType)n.vendorUpdate=function(t){t.userType="VENDOR",t.companyName=t.vendorName,t.contactNumber=t.vendorTelephone,t.serviceFax=t.vendorFax,t.majorCust=t.vendorMajorCust,t.expLine=t.vendorExpLine,t.serviceTIN=t.vendorTIN,t.license=t.vendorLicense,t.servicePAN=t.vendorPAN,t.registrationNo=t.vendorRegistrationNo,t.companyNature=t.vendorCompanyNature,t.constFirm=t.vendorConstFirm,delete t.vendorName,delete t.vendorMobile,delete t.vendorTelephone,delete t.vendorFax,delete t.vendorMajorCust,delete t.vendorExpLine,delete t.vendorTIN,delete t.vendorLicense,delete t.vendorPAN,delete t.vendorRegistrationNo,delete t.vendorCompanyNature,delete t.vendorName,delete t.vendorConstFirm,delete t.vendorOfficeAddress,delete t.activationURL,delete t.vendorAuthCert,delete t.userProfile,delete t.file1,delete t.file2,delete t.file3,s({method:"POST",url:l+"/user/update",headers:{"Content-Type":void 0},transformRequest:function(e){e.fileIDs;var a=new FormData;if(a.append("vendorRequest",JSON.stringify(t)),0==e.file.length)a.append("file",new File([""],"emptyProfileFile.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptycertificateFile.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile1.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile2.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile3.jpg",{type:"image/jpeg"}));else for(i=0;i<e.fileIDs.length;i++)"profilePic"==e.fileIDs[i]?a.append("file",e.file[i],"USER_PROFILE@"+e.file[i].name):"certificate"==e.fileIDs[i]?a.append("file",e.file[i],"CERTIFICATE@"+e.file[i].name):"file1"==e.fileIDs[i]?a.append("file",e.file[i],"FILE_1@"+e.file[i].name):"file2"==e.fileIDs[i]?a.append("file",e.file[i],"FILE_2@"+e.file[i].name):a.append("file",e.file[i],"FILE_3@"+e.file[i].name);return a},data:{fileInfo:t,file:n.files,fileIDs:n.fileIDs}}).success(function(e,a,t,o){"true"==e.status?(n.success=e.successMessage,$(".changepassPopup").modal("show"),n.files=[],n.fileIDs=[],s.get(l+"/getUser/"+localStorage.loggedInuserId).then(function(e){n.vendorprofile=e.data.vendorDetails,n.vendorprofile.country="India"})):(n.errmsg=!0,n.errmessage=e.data.errorMessage,n.files=[],n.fileIDs=[])}).error(function(e,a,t,o){r.path("/myaccount")})};else if("ARCHITECTS"==n.loggedInUserType){n.ArcUpdate=function(t){t.userType="ARCHITECTS",t.companyName=t.vendorName,t.contactNumber=t.vendorTelephone,t.serviceFax=t.vendorFax,t.majorCust=t.vendorMajorCust,t.expLine=t.vendorExpLine,t.serviceTIN=t.vendorTIN,t.license=t.vendorLicense,t.servicePAN=t.vendorPAN,t.registrationNo=t.vendorRegistrationNo,t.companyNature=t.vendorCompanyNature,t.constFirm=t.vendorConstFirm,delete t.vendorName,delete t.vendorMobile,delete t.vendorTelephone,delete t.vendorFax,delete t.vendorMajorCust,delete t.vendorExpLine,delete t.vendorTIN,delete t.vendorLicense,delete t.vendorPAN,delete t.vendorRegistrationNo,delete t.vendorCompanyNature,delete t.vendorName,delete t.vendorConstFirm,delete t.vendorOfficeAddress,delete t.activationURL,delete t.vendorAuthCert,delete t.userProfile,delete t.file1,delete t.file2,delete t.file3;var e=[];for(i=0;i<n.architectmodel.length;i++)e.push(n.architectmodel[i].id);t.architectIds=e,s({method:"POST",url:l+"/user/update",headers:{"Content-Type":void 0},transformRequest:function(e){e.fileIDs;var a=new FormData;if(a.append("vendorRequest",JSON.stringify(t)),0==e.file.length)a.append("file",new File([""],"emptyProfileFile.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptycertificateFile.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile1.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile2.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile3.jpg",{type:"image/jpeg"}));else for(i=0;i<e.fileIDs.length;i++)"profilePic"==e.fileIDs[i]?a.append("file",e.file[i],"USER_PROFILE@"+e.file[i].name):"certificate"==e.fileIDs[i]?a.append("file",e.file[i],"CERTIFICATE@"+e.file[i].name):"file1"==e.fileIDs[i]?a.append("file",e.file[i],"FILE_1@"+e.file[i].name):"file2"==e.fileIDs[i]?a.append("file",e.file[i],"FILE_2@"+e.file[i].name):a.append("file",e.file[i],"FILE_3@"+e.file[i].name);return a},data:{fileInfo:t,file:n.files,fileIDs:n.fileIDs}}).success(function(e,a,t,o){n.files=[],n.fileIDs=[],"true"==e.status?(n.success=e.successMessage,$(".changepassPopup").modal("show"),s.get(l+"/getUser/"+localStorage.loggedInuserId).then(function(e){n.vendorprofile=e.data.vendorDetails,n.vendorprofile.country="India"})):(n.errmsg=!0,n.errmessage=e.data.errorMessage)}).error(function(e,a,t,o){r.path("/myaccount")})};var a={vendorId:n.loggedInuserId,status:"ALL"};s.post(l+"/getUserArchitectsPortfolio?pageNumber=1&pageSize=5",a).then(function(e){n.arcrecently=e.data.responseData,n.ARCtotalCount=e.data.paginationData.totalCount,n.descript=e.data}),n.page=1,n.arcPagingAct=function(e,a,t){var o={vendorId:n.loggedInuserId,status:"ALL"};s.post(l+"/getUserArchitectsPortfolio?pageNumber="+e+"&pageSize=5",o).then(function(e){n.arcrecently=e.data.responseData,n.ARCtotalCount=e.data.paginationData.totalCount})}}else"MACHINERY & EQUIPMENT"==n.loggedInUserType?(n.mechUpdate=function(t){t.userType="MACHINERY & EQUIPMENT",t.companyName=t.vendorName,t.contactNumber=t.vendorTelephone,t.serviceFax=t.vendorFax,t.majorCust=t.vendorMajorCust,t.expLine=t.vendorExpLine,t.serviceTIN=t.vendorTIN,t.license=t.vendorLicense,t.servicePAN=t.vendorPAN,t.registrationNo=t.vendorRegistrationNo,t.companyNature=t.vendorCompanyNature,t.constFirm=t.vendorConstFirm,delete t.vendorName,delete t.vendorMobile,delete t.vendorTelephone,delete t.vendorFax,delete t.vendorMajorCust,delete t.vendorExpLine,delete t.vendorTIN,delete t.vendorLicense,delete t.vendorPAN,delete t.vendorRegistrationNo,delete t.vendorCompanyNature,delete t.vendorName,delete t.vendorConstFirm,delete t.vendorOfficeAddress,delete t.activationURL,delete t.vendorAuthCert,delete t.userProfile,delete t.file1,delete t.file2,delete t.file3;var e=[];for(i=0;i<n.mechinarymodel.length;i++)e.push(n.mechinarymodel[i].id);t.architectIds=e,s({method:"POST",url:l+"/user/update",headers:{"Content-Type":void 0},transformRequest:function(e){e.fileIDs;var a=new FormData;if(a.append("vendorRequest",JSON.stringify(t)),0==e.file.length)a.append("file",new File([""],"emptyProfileFile.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptycertificateFile.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile1.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile2.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile3.jpg",{type:"image/jpeg"}));else for(i=0;i<e.fileIDs.length;i++)"profilePic"==e.fileIDs[i]?a.append("file",e.file[i],"USER_PROFILE@"+e.file[i].name):"certificate"==e.fileIDs[i]?a.append("file",e.file[i],"CERTIFICATE@"+e.file[i].name):"file1"==e.fileIDs[i]?a.append("file",e.file[i],"FILE_1@"+e.file[i].name):"file2"==e.fileIDs[i]?a.append("file",e.file[i],"FILE_2@"+e.file[i].name):a.append("file",e.file[i],"FILE_3@"+e.file[i].name);return a},data:{fileInfo:t,file:n.files,fileIDs:n.fileIDs}}).success(function(e,a,t,o){n.files=[],n.fileIDs=[],"true"==e.status?(n.success=e.successMessage,$(".changepassPopup").modal("show"),s.get(l+"/getUser/"+localStorage.loggedInuserId).then(function(e){n.vendorprofile=e.data.vendorDetails,n.vendorprofile.country="India"})):(n.errmsg=!0,n.errmessage=e.data.errorMessage)}).error(function(e,a,t,o){r.path("/myaccount")})},n.reqObj={vendorId:n.loggedInuserId,status:"ALL"},s.post(l+"/getUserMachineryPortfolio?pageNumber=1&pageSize=5",n.reqObj).then(function(e){n.mechinaryuprecently=e.data.responseData,n.mechtotalCount=e.data.paginationData.totalCount,n.descript=e.data}),n.page=1,n.PagingAct=function(e,a,t){var o={vendorId:n.loggedInuserId,status:"ALL"};s.post(l+"/getUserMachineryPortfolio?pageNumber="+e+"&pageSize=5",o).then(function(e){n.mechinaryuprecently=e.data.responseData,n.mechtotalCount=e.data.paginationData.totalCount})}):"WALL PAPER"==n.loggedInUserType?(n.wallpaperUpdate=function(t){t.userType="WALL PAPER",t.companyName=t.vendorName,t.contactNumber=t.vendorTelephone,t.serviceFax=t.vendorFax,t.majorCust=t.vendorMajorCust,t.expLine=t.vendorExpLine,t.serviceTIN=t.vendorTIN,t.license=t.vendorLicense,t.servicePAN=t.vendorPAN,t.registrationNo=t.vendorRegistrationNo,t.companyNature=t.vendorCompanyNature,t.constFirm=t.vendorConstFirm,delete t.vendorName,delete t.vendorMobile,delete t.vendorTelephone,delete t.vendorFax,delete t.vendorMajorCust,delete t.vendorExpLine,delete t.vendorTIN,delete t.vendorLicense,delete t.vendorPAN,delete t.vendorRegistrationNo,delete t.vendorCompanyNature,delete t.vendorName,delete t.vendorConstFirm,delete t.vendorOfficeAddress,delete t.activationURL,delete t.vendorAuthCert,delete t.userProfile,delete t.file1,delete t.file2,delete t.file3;var e=[];for(i=0;i<n.wallmodel.length;i++)e.push(n.wallmodel[i].id);t.architectIds=e,s({method:"POST",url:l+"/user/update",headers:{"Content-Type":void 0},transformRequest:function(e){e.fileIDs;var a=new FormData;if(a.append("vendorRequest",JSON.stringify(t)),0==e.file.length)a.append("file",new File([""],"emptyProfileFile.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptycertificateFile.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile1.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile2.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile3.jpg",{type:"image/jpeg"}));else for(i=0;i<e.fileIDs.length;i++)"profilePic"==e.fileIDs[i]?a.append("file",e.file[i],"USER_PROFILE@"+e.file[i].name):"certificate"==e.fileIDs[i]?a.append("file",e.file[i],"CERTIFICATE@"+e.file[i].name):"file1"==e.fileIDs[i]?a.append("file",e.file[i],"FILE_1@"+e.file[i].name):"file2"==e.fileIDs[i]?a.append("file",e.file[i],"FILE_2@"+e.file[i].name):a.append("file",e.file[i],"FILE_3@"+e.file[i].name);return a},data:{fileInfo:t,file:n.files,fileIDs:n.fileIDs}}).success(function(e,a,t,o){n.files=[],n.fileIDs=[],"true"==e.status?(n.success=e.successMessage,$(".changepassPopup").modal("show"),s.get(l+"/getUser/"+localStorage.loggedInuserId).then(function(e){n.vendorprofile=e.data.vendorDetails,n.vendorprofile.country="India"})):(n.errmsg=!0,n.errmessage=e.data.errorMessage)}).error(function(e,a,t,o){r.path("/myaccount")})},n.reqObj={vendorId:n.loggedInuserId,status:"ALL"},s.post(l+"/getUserWallPaperPortfolio?pageNumber=1&pageSize=5",n.reqObj).then(function(e){n.wallpaperresp=e.data.responseData,n.waltotalCount=e.data.paginationData.totalCount,n.descript=e.data}),n.page=1,n.walPagingAct=function(e,a,t){var o={vendorId:n.loggedInuserId,status:"ALL"};s.post(l+"/getUserWallPaperPortfolio?pageNumber="+e+"&pageSize=5",o).then(function(e){n.wallpaperresp=e.data.responseData,n.waltotalCount=e.data.paginationData.totalCount})}):n.serviceUpdate=function(t){t.userType="SERVICE",t.companyName=t.vendorName,t.contactNumber=t.vendorTelephone,t.serviceFax=t.vendorFax,t.majorCust=t.vendorMajorCust,t.expLine=t.vendorExpLine,t.serviceTIN=t.vendorTIN,t.license=t.vendorLicense,t.servicePAN=t.vendorPAN,t.registrationNo=t.vendorRegistrationNo,t.companyNature=t.vendorCompanyNature,t.constFirm=t.vendorConstFirm,delete t.vendorName,delete t.vendorMobile,delete t.vendorTelephone,delete t.vendorFax,delete t.vendorMajorCust,delete t.vendorExpLine,delete t.vendorTIN,delete t.vendorLicense,delete t.vendorPAN,delete t.vendorRegistrationNo,delete t.vendorCompanyNature,delete t.vendorName,delete t.vendorConstFirm,delete t.activationURL,delete t.vendorOfficeAddress,delete t.vendorAuthCert,delete t.userProfile,delete t.file1,delete t.file2,delete t.file3;var e=[];for(i=0;i<n.servicesmodel.length;i++)e.push(n.servicesmodel[i].id);t.serviceIds=e,s({method:"POST",url:l+"/user/update",headers:{"Content-Type":void 0},transformRequest:function(e){e.fileIDs;var a=new FormData;if(a.append("vendorRequest",JSON.stringify(t)),0==e.file.length)a.append("file",new File([""],"emptyProfileFile.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptycertificateFile.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile1.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile2.jpg",{type:"image/jpeg"})),a.append("file",new File([""],"emptyFile3.jpg",{type:"image/jpeg"}));else for(i=0;i<e.fileIDs.length;i++)"profilePic"==e.fileIDs[i]?a.append("file",e.file[i],"USER_PROFILE@"+e.file[i].name):"certificate"==e.fileIDs[i]?a.append("file",e.file[i],"CERTIFICATE@"+e.file[i].name):"file1"==e.fileIDs[i]?a.append("file",e.file[i],"FILE_1@"+e.file[i].name):"file2"==e.fileIDs[i]?a.append("file",e.file[i],"FILE_2@"+e.file[i].name):a.append("file",e.file[i],"FILE_3@"+e.file[i].name);return a},data:{fileInfo:t,file:n.files,fileIDs:n.fileIDs}}).success(function(e,a,t,o){n.files=[],n.fileIDs=[],"true"==e.status?(n.success=e.successMessage,$(".changepassPopup").modal("show"),s.get(l+"/getUser/"+localStorage.loggedInuserId).then(function(e){n.vendorprofile=e.data.serviceDetails,n.vendorprofile.country="India"})):(n.errmsg=!0,n.errmessage=e.data.errorMessage)}).error(function(e,a,t,o){r.path("/myaccount")})};$(".arcimagesa").change(function(){var e=$(".arcimagesa")[0].files[0].name;$("#arcpicimage").html(e)}),n.portfolioImagesFun=function(e){var a={portfolioName:e.portfolioName,vendorId:n.loggedInuserId},t=n.myFile,o=l+"/addArchitectsPortfolio",r=new FormData;r.append("architectsRequest",JSON.stringify(a)),r.append("file",t),s({method:"POST",url:o,data:r,transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(e,a,t,o){$(".architectPopup").modal("hide"),n.files=[],1==e.status?(n.successmessage=e.successMessage,$(".successPopup").modal("show")):(n.errmessage=e.errorMessage,$(".errorPopup").modal("show"));var r={vendorId:n.loggedInuserId,status:"ALL"};s.post(l+"/getUserArchitectsPortfolio?pageNumber=1&pageSize=5",r).then(function(e){n.arcrecently=e.data.responseData,n.ARCtotalCount=e.data.paginationData.totalCount})}).error(function(e,a,t,o){})},n.portfolioDetailsFun=function(e){n.viewPortfolio={imageURL:e.imageURL,portfolioId:e.architectPortfolioId,portfolioName:e.portfolioName}},n.files=[],n.$on("seletedFile",function(e,a){n.$apply(function(){n.files.push(a.file)})}),$(".arcpicimages").change(function(){var e=$(".arcpicimages")[0].files[0].name;$("#arcpicselect_file").html(e)}),n.updatePortImg=function(e){$(".architectPopup").modal("hide");var a={portfolioId:e.portfolioId,vendorId:n.loggedInuserId,portfolioName:e.portfolioName},t=n.myFile,o=l+"/updateArchitectsPortfolio",r=new FormData;return null!=t?r.append("file",t):null==t&&r.append("file",new File([""],"emptyFile.jpg")),r.append("architectsRequest",JSON.stringify(a)),s({method:"POST",url:o,data:r,transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(e,a,t,o){$(".architectPopup").modal("hide"),n.files=[],1==e.status?(n.successmessage=e.successMessage,$(".successPopup").modal("show")):(n.errmessage=e.errorMessage,$(".errorPopup").modal("show"));var r={vendorId:n.loggedInuserId,status:"ALL"};s.post(l+"/getUserArchitectsPortfolio?pageNumber=1&pageSize=5",r).then(function(e){n.arcrecently=e.data.responseData,n.ARCtotalCount=e.data.paginationData.totalCount})}).error(function(e,a,t,o){})},n.deleteProtImg=function(a){$(".architectPopup").modal("hide"),$(".confirmDelmechPopup").modal("show"),n.confirmDelete=function(){$(".confirmDelmechPopup").modal("hide");var e={portfolioId:a.portfolioId};s.post(l+"/deleteArchitectsPortfolio",e).then(function(e){1==e.data.status?(n.successmessage=e.data.successMessage,$(".successPopup").modal("show")):(n.errmessage=e.data.errorMessage,$(".errorPopup").modal("hide"));var a={vendorId:n.loggedInuserId,status:"ALL"};s.post(l+"/getUserArchitectsPortfolio?pageNumber=1&pageSize=5",a).then(function(e){n.arcrecently=e.data.responseData,n.ARCtotalCount=e.data.paginationData.totalCount}),n.page=1,n.arcPagingAct=function(e,a,t){var o={vendorId:n.loggedInuserId,status:"ALL"};s.post(l+"/getUserArchitectsPortfolio?pageNumber="+e+"&pageSize=5",o).then(function(e){n.arcrecently=e.data.responseData,n.ARCtotalCount=e.data.paginationData.totalCount})}})}},n.mechDetailsFun=function(e){n.viewmechPortfolio={imageURL:e.imageURL,portfolioId:e.machineryPortfolioId,portfolioName:e.portfolioName}},$("#portfolio").change(function(){var e=$("#portfolio")[0].files[0].name;$("#mechpicselect_file").html(e)}),n.mechineryFormImagesFun=function(e){var a={portfolioName:e.portfolioName,equipmentName:e.equipmentName,equipmentPrice:e.equipmentPrice,hiringType:e.hiringType,vendorId:n.loggedInuserId},t=n.myFile,o=l+"/addMachineryPortfolio",r=new FormData;r.append("machineryRequest",JSON.stringify(a)),r.append("file",t),s({method:"POST",url:o,data:r,transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(e,a,t,o){$(".architectPopup").modal("hide"),n.files=[],1==e.status?(n.successmessage=e.successMessage,$(".successPopup").modal("show")):(n.errmessage=e.errorMessage,$(".errorPopup").modal("show"));var r={vendorId:n.loggedInuserId,status:"ALL"};s.post(l+"/getUserMachineryPortfolio?pageNumber=1&pageSize=5",r).then(function(e){n.mechinaryuprecently=e.data.responseData,n.mechtotalCount=e.data.paginationData.totalCount})}).error(function(e,a,t,o){})},$(".mechupportpic").change(function(){var e=$(".mechupportpic")[0].files[0].name;$("#mechpicselectupdate_file").html(e)}),n.files=[],n.$on("seletedFile",function(e,a){n.$apply(function(){n.files.push(a.file)})}),n.mechDetailsFun=function(e){n.viewmechPortfolio={imageURL:e.imageURL,portfolioId:e.machineryPortfolioId,portfolioName:e.portfolioName}},n.updatemechPortImg=function(e){$(".mechPopup").modal("hide");var a={portfolioId:e.portfolioId,vendorId:n.loggedInuserId,portfolioName:e.portfolioName},t=n.myFile,o=l+"/updateMachineryPortfolio",r=new FormData;return null!=t?r.append("file",t):null==t&&r.append("file",new File([""],"emptyFile.jpg")),r.append("machineryRequest",JSON.stringify(a)),s({method:"POST",url:o,data:r,transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(e,a,t,o){n.files=[],n.errmsg=!0,1==e.status?(n.successmsg=e.successMessage,$(".successmechPopup").modal("show")):(n.failuremsg=e.errorMessage,$(".errormechPopup").modal("show"));var r={vendorId:n.loggedInuserId,status:"ALL"};s.post(l+"/getUserMachineryPortfolio?pageNumber=1&pageSize=5",r).then(function(e){n.mechinaryuprecently=e.data.responseData,n.mechtotalCount=e.data.paginationData.totalCount,n.descript=e.data})}).error(function(e,a,t,o){})},n.mechportdel=function(e){n.reqObj={vendorId:n.loggedInuserId,status:"ALL"},s.post(l+"/getUserMachineryPortfolio",n.reqObj).then(function(e){n.mechinaryuprecently=e.data.responseData,n.mechtotalCount=e.data.paginationData.totalCount}),$(".mechPopup").modal("hide"),$(".confirmDelmechPopup").modal("show")},n.confirmDelete=function(e){$(".confirmDelmechPopup").modal("hide");var a={portfolioId:e.portfolioId};s.post(l+"/deleteMachineryPortfolio",a).then(function(e){1==e.data.status?(n.successmsg=e.data.successMessage,$(".successmechPopup").modal("show")):(n.failuremsg=e.data.errorMessage,$(".errormechPopup").modal("hide"));var a={vendorId:n.loggedInuserId,status:"ALL"};s.post(l+"/getUserMachineryPortfolio",a).then(function(e){n.mechinaryuprecently=e.data.responseData,n.mechtotalCount=e.data.paginationData.totalCount})})},$(".walpic").change(function(){var e=$(".walpic")[0].files[0].name;$("#wallselect_file").html(e)}),n.files=[],n.$on("seletedFile",function(e,a){n.$apply(function(){n.files.push(a.file)})}),n.walportfolioImagesFun=function(e){null==e.Price&&(e.Price="0"),null==e.amount&&(e.amount="0");var a={portfolioName:e.portfolioName,brand:e.brand,thickness:e.thickness,size:e.size,price:e.Price,serviceCharges:e.amount,vendorId:n.loggedInuserId},t=n.myFile,o=l+"/addWallPaperPortfolio",r=new FormData;r.append("wallPaperRequest",JSON.stringify(a)),r.append("file",t),s({method:"POST",url:o,data:r,transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(e,a,t,o){n.files=[],1==e.status?(n.successmsg=e.successMessage,$(".successmechPopup").modal("show")):(n.failuremsg=e.errorMessage,$(".errormechPopup").modal("show"));var r={vendorId:n.loggedInuserId,status:"ALL"};s.post(l+"/getUserWallPaperPortfolio?pageNumber=1&pageSize=5",r).then(function(e){n.wallpaperresp=e.data.responseData,n.waltotalCount=e.data.paginationData.totalCount,n.descript=e.data})}).error(function(e,a,t,o){})},n.waldeleteProd=function(a){$(".wallpaperPopup").modal("hide"),$(".confirmDelmechPopup").modal("show"),n.confirmDelete=function(){$(".confirmDelmechPopup").modal("hide");var e={portfolioId:a.portfolioId};s.post(l+"/deleteWallPaperPortfolio",e).then(function(e){1==e.data.status?(n.successmessage=e.data.successMessage,$(".successPopup").modal("show")):(n.errmessage=e.data.errorMessage,$(".errorPopup").modal("hide"));var a={vendorId:n.loggedInuserId,status:"ALL"};s.post(l+"/getUserWallPaperPortfolio?pageNumber=1&pageSize=5",a).then(function(e){n.wallpaperresp=e.data.responseData,n.waltotalCount=e.data.paginationData.totalCount,n.descript=e.data})})}},$("#waipaperupdatepic").change(function(){var e=$("#waipaperupdatepic")[0].files[0].name;$("#wallpicselect_file").html(e)}),n.files=[],n.$on("seletedFile",function(e,a){n.$apply(function(){n.files.push(a.file)})}),n.portfolioDetailswalFun=function(e){n.wallpopPortfolio={imageURL:e.imageURL,portfolioId:e.portfolioId,portfolioName:e.portfolioName}},n.updatedwalpaperImg=function(e){$(".wallpaperPopup").modal("hide");var a={portfolioId:e.portfolioId,vendorId:n.loggedInuserId,portfolioName:e.portfolioName},t=n.myFile,o=l+"/updateWallPaperPortfolio",r=new FormData;return null!=t?r.append("file",t):null==t&&r.append("file",new File([""],"emptyFile.jpg")),r.append("wallPaperRequest",JSON.stringify(a)),s({method:"POST",url:o,data:r,transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(e,a,t,o){n.files=[],n.errmsg=!0,1==e.status?(n.successmsg=e.successMessage,$(".successmechPopup").modal("show")):(n.failuremsg=e.errorMessage,$(".errormechPopup").modal("show"));var r={vendorId:n.loggedInuserId,status:"ALL"};s.post(l+"/getUserWallPaperPortfolio?pageNumber=1&pageSize=5",r).then(function(e){n.wallpaperresp=e.data.responseData,n.waltotalCount=e.data.paginationData.totalCount,n.descript=e.data})}).error(function(e,a,t,o){})},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),newapp.directive("uploadFiles",function(){return{scope:!0,link:function(o,e,a){e.bind("change",function(e){for(var a=e.target.files,t=0;t<a.length;t++)o.$emit("seletedFile",{file:a[t]})})}}}),newapp.directive("fileModel",["$parse",function(r){return{restrict:"A",link:function(e,a,t){var o=r(t.fileModel).assign;a.bind("change",function(){e.$apply(function(){o(e,a[0].files[0])})})}}}]),angular.module("newapp").controller("cartCtrl",["$scope","$http","$location","resturl",function(a,t,e,o){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.loggedInUserName=localStorage.loggedInUserName,a.userlogged=!0):a.userlogged=!1,a.logout=function(){localStorage.clear(),e.path("/login")},a.myProfile=function(){e.path("/myaccount")},t.get(o+"/getAllCategories").then(function(e){a.menuitem=e.data.categoryData}),0==a.userlogged?(localStorage.clear(),e.path("/login")):(t.get(o+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){for(a.cartlist=e.data,a.cartCode=e.data.code,a.totalprice=e.data.total,null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length,0==a.lengthofcart?(a.cartEmpty=!1,a.cartNullMessage=!0):a.cartEmpty=!0,i=0;i<a.lengthofcart;i++)a.prodId=e.data.shoppingCartItems[i].id;for(i=0;i<e.data.shoppingCartItems.length;i++)a.cartdiscountPrice=e.data.shoppingCartItems[i].discountPrice,a.cartPrice=e.data.shoppingCartItems[i].price;a.showPrice=!0,null!=a.cartdiscountPrice&&a.cartPrice!=a.cartdiscountPrice||(a.showPrice=!1)}),a.deleteProd=function(e){t.get(o+"/cart/removeShoppingCartItem/"+a.cartCode+"/"+e).then(function(e){t.get(o+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){a.cartlist=e.data,a.totalprice=e.data.total,null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length,0==a.lengthofcart?(a.cartEmpty=!1,a.cartNullMessage=!0):a.cartEmpty=!0})})}),"undefined"==localStorage.loggedInuserId&&(a.lengthofcart=0),a.update=function(){var e=[];for(i=0;i<a.lengthofcart;i++)a.prodId=a.cartlist.shoppingCartItems[i].id,a.qty=a.cartlist.shoppingCartItems[i].quantity,a.category=a.cartlist.shoppingCartItems[i].category,"Wallpaper"==a.category?a.eachCartProduct={id:a.cartlist.shoppingCartItems[i].id,code:a.cartlist.code,category:"Wallpaper",quantity:a.cartlist.shoppingCartItems[i].quantity}:a.eachCartProduct={id:a.cartlist.shoppingCartItems[i].id,code:a.cartlist.code,quantity:a.cartlist.shoppingCartItems[i].quantity},e.push(a.eachCartProduct);a.updateCartsReq=e,t.post(o+"/cart/updateShoppingCartItem?userId="+localStorage.loggedInuserId,a.updateCartsReq).then(function(e){a.cartlist=e.data,t.get(o+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){a.cartlist=e.data,a.totalprice=e.data.total,a.lengthofcart=e.data.shoppingCartItems.length})})},a.increment=function(e){e.quantity++},a.decrement=function(e){e.quantity--},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("deliveryctrl",["$scope","$http","$location","resturl","$rootScope","$sce",function(t,o,r,n,i,s){t.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(t.loggedInUser=localStorage.loggedInUser,t.loggedInUserName=localStorage.loggedInUserName,t.loggedInuserId=localStorage.loggedInuserId,t.userlogged=!0,o.get(n+"/cart/displayCart?userId="+t.loggedInuserId).then(function(e){t.cartlist=e.data,t.cartCode=e.data.code,t.totalprice=e.data.total,null==e.data.shoppingCartItems?t.lengthofcart=0:t.lengthofcart=e.data.shoppingCartItems.length})):(t.userlogged=!1,t.lengthofcart=0),t.logout=function(){localStorage.clear(),r.path("/login")},t.myProfile=function(){r.path("/myaccount")},o.get(n+"/getAllCategories").then(function(e){t.menuitem=e.data.categoryData}),o.get(n+"/shop/customer/displayShippingAddress/"+localStorage.loggedInuserId).then(function(e){t.deliverylist=e.data.shippingAddress,t.customerName=e.data.customerName,t.shippingLength=e.data.shippingAddress.length,t.hideAddress=!0,3<=t.shippingLength&&(t.hideAddress=!1)}),t.newaddress=function(e){var a=t.deliverylist.slice(-1)[0];t.addressId=a.preferenceOrder,1==t.addressId||3==t.addressId?(e.billingAddress=!1,e.deliveryAddress=!0,e.secondaryDeliveryAddress=!1):(e.billingAddress=!1,e.deliveryAddress=!1,e.secondaryDeliveryAddress=!0),o.post(n+"/shop/customer/updateShippingAddress/"+localStorage.loggedInuserId,e).then(function(e){t.deliverylist=e.data.shippingAddress,o.get(n+"/shop/customer/displayShippingAddress/"+localStorage.loggedInuserId).then(function(e){t.deliverylist=e.data.shippingAddress,t.shippingLength=e.data.shippingAddress.length,3<=t.shippingLength?t.hideAddress=!1:t.hideAddress=!0})})},t.deleteAddress=function(e){o.get(n+"/shop/customer/removeShippingAddress/"+localStorage.loggedInuserId+"?addressPref="+e).then(function(e){o.get(n+"/shop/customer/displayShippingAddress/"+localStorage.loggedInuserId).then(function(e){t.deliverylist=e.data.shippingAddress,t.shippingLength=e.data.shippingAddress.length,3<=t.shippingLength?t.hideAddress=!1:t.hideAddress=!0})})},t.preferenceOrder=1,t.address=function(e){t.preferenceOrder=e},t.placeorder=function(e){var a={preferedShippingAddress:t.preferenceOrder,cartCode:t.cartCode,userId:t.loggedInuserId};"COD"==e?o.post(n+"/order/completeCOD_Order?userId="+t.loggedInuserId,a).then(function(e){e.data.id?r.path("/orders/confirmation/"+e.data.id):(t.errorMessage="Cannot place the order at this moment. Try again...!!!",$("#errorMessageModal").modal("show"))}):o.post(n+"/order/commitCCAvenueOrder?userId="+t.loggedInuserId,a).then(function(e){var a={url:s.trustAsResourceUrl(e.data.paymentGatewayUrl),method:"POST",params:{encRequest:e.data.encRequest,access_code:e.data.accessCode}};i.$broadcast("goToPaymentGateway",a)})},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]).directive("autoSubmitForm",["$timeout",function(r){return{replace:!0,scope:{},template:'<form action="{{ formData.url }}" method="{{ formData.method }}"> <div ng-repeat="(key,val) in formData.params">     <input type="hidden" name="{{ key }}" id="{{ key }}" value="{{ val }}" /> </div></form>',link:function(t,o,e){t.$on("goToPaymentGateway",function(e,a){t.formData=a,r(function(){$(o).submit()})})}}}]),angular.module("newapp").controller("paymentctrl",["$scope","$http","$location","resturl",function(a,e,t,o){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.loggedInUserName=localStorage.loggedInUserName,a.userlogged=!0):a.userlogged=!1,a.logout=function(){localStorage.clear(),t.path("/login")},a.myProfile=function(){t.path("/myaccount")},e.get(o+"/getAllCategories").then(function(e){a.menuitem=e.data.categoryData}),e.get("js/controllers/payment.json").then(function(e){a.paymentlist=e.data.payment}),e.get(o+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){a.cartlist=e.data,a.lengthofcart=e.data.shoppingCartItems.length,a.totalprice=e.data.total}),a.lengthofcart=0}]),angular.module("newapp").controller("viewmsgctrl",["$scope","$http","$location","resturl",function(a,e,t,o){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.loggedInUserName=localStorage.loggedInUserName,a.userlogged=!0):a.userlogged=!1,a.logout=function(){localStorage.clear(),t.path("/login")},a.myProfile=function(){t.path("/profile")},e.get(o+"/getAllCategories").then(function(e){a.menuitem=e.data.categoryData}),e.get("js/controllers/myaccount.json").then(function(e){a.account=e.data.myacc}),e.get("js/controllers/order.json").then(function(e){a.myorder=e.data.order}),e.get("js/controllers/myaccproductlist.json").then(function(e){a.mplist=e.data.myaccplist}),e.get("js/controllers/myaccwishlist.json").then(function(e){a.mwlist=e.data.myaccwlist}),e.get("js/controllers/inboxread.json").then(function(e){a.readmsg=e.data.read}),e.get("js/controllers/inboxunread.json").then(function(e){a.unreadmsg=e.data.unread}),e.get("js/controllers/viewmsg.json").then(function(e){a.vmsg=e.data.viewmsg}),e.get(o+"/cart/displayCart?userId="+localStorage.loggedInUserId).then(function(e){a.cartlist=e.data,a.lengthofcart=e.data.shoppingCartItems.length}),a.lengthofcart=0}]),angular.module("newapp").controller("paymentsuccessCtrl",["$scope","$http","$location","$window","resturl",function(a,e,t,o,r){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],o.scrollTo(0,0),null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.userlogged=!0):a.userlogged=!1,a.logout=function(){localStorage.clear(),t.path("/login")},a.myProfile=function(){t.path("/myaccount")},e.get(r+"/getAllCategories").then(function(e){a.menuitem=e.data.categoryData}),e.get(r+"/getContactUS").then(function(e){a.contactdetails=e.data}),e.get(r+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){a.cartlist=e.data,null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length})}]),angular.module("newapp").controller("activateuserCtrl",["$scope","$http","$location","resturl",function(e,a,t,o){e.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],a.post(o+"/user/activate",t.search()).then(function(e){t.path("/login")})}]),angular.module("newapp").controller("confirmCtrl",["$scope","$http","$location","$window","resturl","$rootScope",function(a,e,t,o,r,n){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],localStorage.clear(),null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.userlogged=!0,e.get(r+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){a.cartlist=e.data,null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length})):(a.userlogged=!1,a.lengthofcart=0),e.get(r+"/getAllCategories").then(function(e){a.menuitem=e.data.categoryData}),jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("profileCtrl",["$scope","$http","$location","resturl",function(a,e,t,o){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.loggedInUserName=localStorage.loggedInUserName,a.userlogged=!0):a.userlogged=!1,a.logout=function(){localStorage.clear(),t.path("/login")},e.get(o+"/getAllCategories").then(function(e){a.menuitem=e.data.categoryData}),a.mouseOver=function(e){a.set_bg=function(){return a.bgimg=e.imageURL,{"background-image":"url(/clients/onesevenhome/img/"+a.bgimg+".jpg)"}}},e.get(o+"/cart/displayCart?userId="+localStorage.loggedInUserId).then(function(e){a.cartlist=e.data,a.lengthofcart=e.data.shoppingCartItems.length}),a.lengthofcart=0,a.changepass=function(e){}}]),angular.module("newapp").controller("postrequirectrl",["$scope","$http","$location","resturl",function(t,o,e,r){t.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],t.isDisabled=!1,null!=localStorage.loggedInUser?(t.loggedInUser=localStorage.loggedInUser,t.loggedInUserName=localStorage.loggedInUserName,t.loggedInUserType=localStorage.loggedInUserType,t.loggedInuserId=localStorage.loggedInuserId,t.userlogged=!0,o.get(r+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){t.cartlist=e.data,null==e.data.shoppingCartItems?t.lengthofcart=0:t.lengthofcart=e.data.shoppingCartItems.length})):(t.userlogged=!1,t.lengthofcart=0,e.path("/login")),1==t.userlogged&&(t.logout=function(){localStorage.clear(),e.path("/login")},t.mouseOver=function(e){t.set_bg=function(){return t.bgimg=e.imageURL,{"background-image":"url(/clients/onesevenhome/img/"+t.bgimg+".jpg)"}}},t.myProfile=function(){e.path("/myaccount")}),o.get(r+"/getAllCategories").then(function(e){t.menuitems=angular.copy(e.data.categoryData),t.menuitem=e.data.categoryData,t.menuitem.push({title:"Service"})}),o.get(r+"/getUser/"+localStorage.loggedInuserId).then(function(e){t.displayLastName=!1,"CUSTOMER"==t.loggedInUserType?(t.displayLastName=!0,t.userprofile=e.data.customerDetails.billing,t.userprofile.email=e.data.customerDetails.email,t.userprofile.state=e.data.customerDetails.stateProvince):"SERVICE"==t.loggedInUserType?(t.userprofile=e.data.serviceDetails,t.userprofile.firstName=e.data.serviceDetails.vendorName,t.userprofile.phone=e.data.serviceDetails.vendorTelephone,t.userprofile.address=e.data.serviceDetails.houseNumber,t.userprofile.stateProvince=e.data.serviceDetails.state):(t.userprofile=e.data.vendorDetails,t.userprofile.firstName=e.data.vendorDetails.vendorName,t.userprofile.phone=e.data.vendorDetails.vendorTelephone,t.userprofile.address=e.data.vendorDetails.houseNumber,t.userprofile.stateProvince=e.data.vendorDetails.state)}),t.postreq=function(e){t.isDisabled=!0;var a={category:e.item.title,query:e.query,customerId:t.loggedInuserId};o.post(r+"/postrequirement/save",a).then(function(e){"true"==e.data.status?(t.isDisabled=!1,t.success=e.data.successMessage,$(".successPopup").modal("show")):(t.failure=e.data.successMessage,$(".errorPopup").modal("show"))})},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("arcproductCtrl",["$scope","$http","$location","$routeParams","resturl",function(o,r,a,n,i){o.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}];var t=new Date;t.setDate(t.getDate()),null!=localStorage.loggedInUser?(o.loggedInUser=localStorage.loggedInUser,o.loggedInUserName=localStorage.loggedInUserName,o.loggedInuserId=localStorage.loggedInuserId,o.userlogged=!0):o.userlogged=!1,o.logout=function(){localStorage.clear(),a.path("/login")},o.myProfile=function(){a.path("/myaccount")},r.get(i+"/getAllCategories").then(function(e){o.menuitem=e.data.categoryData}),o.id=n.id,null==o.loggedInuserId?o.showReview=!1:(o.showReview=!0,o.onItemRating=function(e){o.starValue=e},o.submitReview=function(e){var a={customerId:o.loggedInuserId,vendorId:n.id,rating:o.starValue,reviewTitle:"",reviewDescription:e.description};r.post(i+"/vendor/rating",a).then(function(e){1==e.data.status?(o.errmsg=!0,o.errmessage=e.data.successMessage):(o.errmsg=!0,o.errmessage=e.data.errorMessage)})}),r.get(i+"/vendor/"+n.id+"/reviews?pageNumber=1&pageSize=2").then(function(e){o.prod=e.data.reviewList,o.totalCount=e.data.paginationData.totalCount,o.averagereview=e.data.avgReview,o.userRatings=e.data.reviewList,o.totalreview=e.data.totalratingCount,o.uptotalCount=e.data.paginationData.totalCount,o.ratings=[{number:o.averagereview}]}),o.page=1,o.PagingAct=function(e,a,t){r.get(i+"/vendor/"+n.id+"/reviews?pageNumber="+e+"&pageSize=2").then(function(e){o.prod=e.data.reviewList,o.totalCount=e.data.paginationData.totalCount,o.averagereview=e.data.avgReview,o.userRatings=e.data.reviewList,o.totalreview=e.data.totalratingCount,o.uptotalCount=e.data.paginationData.totalCount,o.ratings=[{number:o.averagereview}]})},o.getStars=function(e){return parseFloat(e)/5*100+"%"},o.Booknowfun=function(e){null==o.loggedInuserId?a.path("/login"):(o.vendorName=e,o.customerName=o.loggedInUserName,$("#appointmentDate").datepicker({autoclose:!0,format:"yyyy-mm-dd",startDate:t}),$(".bookNowPopup").modal("show"))},o.confirmBooking=function(e){$(".bookNowPopup").modal("hide");var a={customerId:o.loggedInuserId,vendorId:n.id,appointmentDate:e.appointmentDate,address:e.address,description:e.description};r.post(i+"/vendor/booking",a).then(function(e){1==e.data.status?(o.success=e.data.successMessage,$(".successPopup").modal("show")):(o.failure=e.data.successMessage,$(".errorPopup").modal("show"))})};var e={vendorId:n.id,status:"Y"};r.post(i+"/getUserArchitectsPortfolio",e).then(function(e){o.recently=e.data.responseData,o.Description=e.data.vendorDescription,o.ShortDescription=e.data.vendorShortDescription,o.imageUrl=e.data.vendorImageURL,o.vendorName=e.data.vendorName,o.vendorportName=e.data.vendorPortfolioName,o.certficateValue=e.data.vendorPortfolioDocument,o.cert=!0,null==o.certficateValue&&(o.nullcert=!0,o.cert=!1),o.RecentlyLoaded=!0,o.slickrecentbroughtConfig={dots:!1,arrows:!1,infinite:!0,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplayspeed:500,responsive:[{breakpoint:1024,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:3,slidesToScroll:1}},{breakpoint:800,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:2,slidesToScroll:1}},{breakpoint:767,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1,slidesToScroll:1}}]}}),localStorage.loggedInuserId,r.get(i+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){o.cartlist=e.data,null==e.data.shoppingCartItems?o.lengthofcart=0:o.lengthofcart=e.data.shoppingCartItems.length}),r.get(i+"/vendortypes/3").then(function(e){o.arclist=e.data.responseData,o.totalCount=e.data.paginationData.totalCount}),jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("mechinerylistCtrl",["$scope","$http","$location","$routeParams","resturl",function(o,r,a,n,i){$("#appointmentDate").datepicker({autoclose:!0,format:"yyyy-mm-dd"}),o.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(o.loggedInUser=localStorage.loggedInUser,o.loggedInUserName=localStorage.loggedInUserName,o.loggedInuserId=localStorage.loggedInuserId,o.customerName=o.loggedInUserName,o.userlogged=!0):o.userlogged=!1,o.logout=function(){localStorage.clear(),a.path("/login")},o.myProfile=function(){a.path("/myaccount")},r.get(i+"/getAllCategories").then(function(e){o.menuitem=e.data.categoryData}),o.id=n.id,0==o.userlogged?o.showReview=!1:(o.showReview=!0,o.onItemRating=function(e){o.starValue=e},o.submitReview=function(e){var a={customerId:o.loggedInuserId,vendorId:n.id,rating:o.starValue,reviewTitle:"",reviewDescription:e.description};r.post(i+"/vendor/rating",a).then(function(e){1==e.data.status?(o.errmsg=!0,o.errmessage=e.data.successMessage):(o.errmsg=!0,o.errmessage=e.data.errorMessage)})}),r.get(i+"/vendor/"+n.id+"/reviews?pageNumber=1&pageSize=2").then(function(e){o.prod=e.data.reviewList,o.totalCount=e.data.paginationData.totalCount,o.averagereview=e.data.avgReview,o.userRatings=e.data.reviewList,o.totalreview=e.data.totalratingCount,o.uptotalCount=e.data.paginationData.totalCount,o.ratings=[{number:o.averagereview}]}),o.page=1,o.PagingAct=function(e,a,t){r.get(i+"/vendor/"+n.id+"/reviews?pageNumber="+e+"&pageSize=2").then(function(e){o.prod=e.data.reviewList,o.totalCount=e.data.paginationData.totalCount,o.averagereview=e.data.avgReview,o.userRatings=e.data.reviewList,o.totalreview=e.data.totalratingCount,o.uptotalCount=e.data.paginationData.totalCount,o.ratings=[{number:o.averagereview}]})},o.getStars=function(e){return parseFloat(e)/5*100+"%"},o.mechpopup=function(e){null==o.loggedInuserId?a.path("/login"):(o.vendorName=e,o.customerName=o.loggedInUserName,$("#appointmentDate").datepicker({autoclose:!0,format:"yyyy-mm-dd"}),$(".bookNowPopup").modal("show"))},o.mechpopFormReq=function(e){$(".bookNowPopup").modal("hide");var a={customerId:o.loggedInuserId,vendorId:n.id,appointmentDate:e.appointmentDate,address:e.address,equipmentPrice:e.equipmentPrice,hiringType:e.hiringType,description:e.description};r.post(i+"/vendor/booking",a).then(function(e){1==e.data.status?(o.success=e.data.successMessage,$(".successPopup").modal("show")):(o.failure=e.data.successMessage,$(".errorPopup").modal("show"))})};var e={vendorId:n.id,status:"Y"};r.post(i+"/getUserMachineryPortfolio",e).then(function(e){o.recently=e.data.responseData,o.Description=e.data.responseData[0].vendorDescription,o.ShortDescription=e.data.responseData[0].vendorShortDescription,o.imageUrl=e.data.vendorImageURL,o.vendorName=e.data.vendorName,o.RecentlyLoaded=!0,o.slickrecentbroughtConfig={dots:!1,arrows:!1,infinite:!0,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplayspeed:500,responsive:[{breakpoint:1024,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:3,slidesToScroll:1}},{breakpoint:800,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:2,slidesToScroll:1}},{breakpoint:767,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1,slidesToScroll:1}}]}}),localStorage.loggedInuserId,r.get(i+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){o.cartlist=e.data,null==e.data.shoppingCartItems?o.lengthofcart=0:o.lengthofcart=e.data.shoppingCartItems.length}),r.get(i+"/vendortypes/5").then(function(e){o.arclist=e.data.responseData,o.totalCount=e.data.paginationData.totalCount}),o.mechpopup=function(e){null==o.loggedInuserId&&a.path("/login"),o.mecheqpopupReq={portfolioName:e.portfolioName,portfolioId:e.machineryPortfolioId,equipmentPrice:e.equipmentPrice,hiringType:e.hiringType,fromdate:e.fromdate,todate:e.todate,equipmentName:e.equipmentName,imageURL:e.imageURL}},o.mechpopFormReq=function(e){$(".bookNowPopup").modal("hide");var a={customerId:o.loggedInuserId,vendorId:n.id,appointmentDate:e.appointmentDate,address:e.address,description:e.description};r.post(i+"/vendor/booking",a).then(function(e){1==e.data.status?(o.success=e.data.successMessage,$(".successPopup").modal("show")):(o.failure=e.data.successMessage,$(".errorPopup").modal("show"))})},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("wallpaperlistCtrl",["$scope","$http","$location","$routeParams","resturl",function(o,r,a,n,i){o.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(o.loggedInUser=localStorage.loggedInUser,o.loggedInUserName=localStorage.loggedInUserName,o.loggedInuserId=localStorage.loggedInuserId,o.userlogged=!0):o.userlogged=!1,o.logout=function(){localStorage.clear(),a.path("/login")},o.myProfile=function(){a.path("/myaccount")},r.get(i+"/getAllCategories").then(function(e){o.menuitem=e.data.categoryData}),o.id=n.id,0==o.userlogged?o.showReview=!1:(o.showReview=!0,o.onItemRating=function(e){o.starValue=e},o.submitReview=function(e){var a={customerId:o.loggedInuserId,vendorId:n.id,rating:o.starValue,reviewTitle:"",reviewDescription:e.description};r.post(i+"/vendor/rating",a).then(function(e){1==e.data.status?(o.errmsg=!0,o.errmessage=e.data.successMessage):(o.errmsg=!0,o.errmessage=e.data.errorMessage)})}),r.get(i+"/vendor/"+n.id+"/reviews?pageNumber=1&pageSize=5").then(function(e){o.prod=e.data.reviewList,o.totalCount=e.data.paginationData.totalCount,o.averagereview=e.data.avgReview,o.userRatings=e.data.reviewList,o.totalreview=e.data.totalratingCount,o.uptotalCount=e.data.paginationData.totalCount,o.ratings=[{number:o.averagereview}]}),o.page=1,o.PagingAct=function(e,a,t){r.get(i+"/vendor/"+n.id+"/reviews?pageNumber="+e+"&pageSize=5").then(function(e){o.prod=e.data.reviewList,o.totalCount=e.data.paginationData.totalCount,o.averagereview=e.data.avgReview,o.userRatings=e.data.reviewList,o.totalreview=e.data.totalratingCount,o.uptotalCount=e.data.paginationData.totalCount,o.ratings=[{number:o.averagereview}]})},o.getStars=function(e){return parseFloat(e)/5*100+"%"},o.Booknowfun=function(){if(0==o.loggedInuserId)a.path("/login");else{var e={customerId:o.loggedInuserId,vendorId:n.id};r.post(i+"/vendor/booking",e).then(function(e){1==e.data.status&&(o.success=e.data.successMessage,$(".successPopup").modal("show"))})}};var e={vendorId:n.id,status:"Y"};r.post(i+"/getUserWallPaperPortfolio",e).then(function(e){o.walrecently=e.data.responseData,o.Description=e.data.vendorDescription,o.ShortDescription=e.data.vendorShortDescription,o.imageUrl=e.data.vendorImageURL,o.vendorName=e.data.vendorName,o.RecentlyLoaded=!0,o.slickrecentbroughtConfig={dots:!1,arrows:!1,infinite:!0,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplayspeed:500,responsive:[{breakpoint:1024,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:3,slidesToScroll:1}},{breakpoint:800,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:2,slidesToScroll:1}},{breakpoint:767,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1,slidesToScroll:1}}]}}),localStorage.loggedInuserId,r.get(i+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){o.cartlist=e.data,null==e.data.shoppingCartItems?o.lengthofcart=0:o.lengthofcart=e.data.shoppingCartItems.length}),r.get(i+"/vendortypes/3").then(function(e){o.arclist=e.data.responseData,o.totalCount=e.data.paginationData.totalCount}),jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("wallpaperdetailsCtrl",["$scope","$http","$location","$routeParams","resturl",function(o,r,t,n,i){o.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(o.loggedInUser=localStorage.loggedInUser,o.loggedInUserName=localStorage.loggedInUserName,o.loggedInuserId=localStorage.loggedInuserId,o.userlogged=!0):o.userlogged=!1,o.logout=function(){localStorage.clear(),t.path("/login")},o.myProfile=function(){t.path("/myaccount")},r.get(i+"/getAllCategories").then(function(e){o.menuitem=e.data.categoryData}),o.id=n.id,0==o.userlogged?o.showReview=!1:(o.showReview=!0,o.onItemRating=function(e){o.starValue=e},o.submitReview=function(e){var a={customerId:o.loggedInuserId,vendorId:n.id,rating:o.starValue,reviewTitle:"",reviewDescription:e.description};r.post(i+"/vendor/rating",a).then(function(e){1==e.data.status?(o.errmsg=!0,o.errmessage=e.data.successMessage):(o.errmsg=!0,o.errmessage=e.data.errorMessage)})});var e={portfolioId:n.pid};r.post(i+"/getWallPaperDetails",e).then(function(e){o.Walldetails=e.data.wallPaperDetails,o.detailimageUrl=e.data.wallPaperDetails.imageURL,o.detailDescription=e.data.wallPaperDetails.portfolioName,o.detailprice=e.data.wallPaperDetails.price,o.size=e.data.wallPaperDetails.size,o.thickness=e.data.wallPaperDetails.thickness,o.brand=e.data.wallPaperDetails.brand}),o.portfolioId=n.pid,o.vendorId=n.venid,r.get(i+"/vendor/"+n.id+"/reviews?pageNumber=1&pageSize=5").then(function(e){o.prod=e.data.reviewList,o.totalCount=e.data.paginationData.totalCount,o.averagereview=e.data.avgReview,o.userRatings=e.data.reviewList,o.totalreview=e.data.totalratingCount,o.uptotalCount=e.data.paginationData.totalCount,o.ratings=[{number:o.averagereview}]}),o.page=1,o.PagingAct=function(e,a,t){r.get(i+"/vendor/"+n.id+"/reviews?pageNumber="+e+"&pageSize=5").then(function(e){o.prod=e.data.reviewList,o.totalCount=e.data.paginationData.totalCount,o.averagereview=e.data.avgReview,o.userRatings=e.data.reviewList,o.totalreview=e.data.totalratingCount,o.uptotalCount=e.data.paginationData.totalCount,o.ratings=[{number:o.averagereview}]})},o.getStars=function(e){return parseFloat(e)/5*100+"%"},o.Booknowfun=function(){if(0==o.loggedInuserId)t.path("/login");else{var e={customerId:o.loggedInuserId,vendorId:n.id};r.post(i+"/vendor/booking",e).then(function(e){1==e.data.status&&(o.success=e.data.successMessage,$(".successPopup").modal("show"))})}},o.reqObj={vendorId:o.vendorId,status:"Y"},r.post(i+"/getUserWallPaperPortfolio",e).then(function(e){o.walrecently=e.data.responseData,o.Description=e.data.responseData[0].vendorDescription,o.ShortDescription=e.data.responseData[0].vendorShortDescription,o.imageUrl=e.data.responseData[0].vendorImageURL,o.vendorName=e.data.vendorName,o.RecentlyLoaded=!0,o.slickrecentbroughtConfig={dots:!1,arrows:!1,infinite:!0,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplayspeed:500,responsive:[{breakpoint:1024,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:3,slidesToScroll:1}},{breakpoint:800,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:2,slidesToScroll:1}},{breakpoint:767,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1,slidesToScroll:1}}]}}),localStorage.loggedInuserId,r.get(i+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){o.cartlist=e.data,null==e.data.shoppingCartItems?o.lengthofcart=0:o.lengthofcart=e.data.shoppingCartItems.length}),r.get(i+"/vendortypes/4").then(function(e){o.arclist=e.data.responseData,o.totalCount=e.data.paginationData.totalCount}),o.addcart=function(e){if(0==o.userlogged)t.path("/login");else{var a={category:"Wallpaper",productId:n.pid,quantity:e,vendorId:n.venid};r.post(i+"/cart/addShoppingCartItem?userId="+localStorage.loggedInuserId,a).then(function(e){o.cartvalue=e.data.cartQuantity,r.get(i+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){o.cartlist=e.data,o.lengthofcart=e.data.shoppingCartItems.length})})}},jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("subscribedCtrl",["$scope","$http","$location","$window","resturl","$rootScope",function(a,e,t,o,r,n){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],o.scrollTo(0,0),null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.loggedInUserName=localStorage.loggedInUserName,a.userlogged=!0):a.userlogged=!1,"true"==n.subscriptionData.status?a.message=n.subscriptionData.successMessage:a.message=n.subscriptionData.errorMessage,a.logout=function(){localStorage.clear(),t.path("/login")},a.myProfile=function(){t.path("/myaccount")},e.get(r+"/getAllCategories").then(function(e){a.menuitem=e.data.categoryData}),e.get(r+"/getContactUS").then(function(e){a.contactdetails=e.data}),e.get(r+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){a.cartlist=e.data,null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length})}]),angular.module("newapp").controller("buysellCtrl",["$scope","$http","$routeParams","$location","$window","resturl","$rootScope",function(a,e,t,o,r,n,i){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],r.scrollTo(0,0),null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.userlogged=!0):a.userlogged=!1,a.logout=function(){localStorage.clear(),o.path("/login")},a.myProfile=function(){o.path("/myaccount")},e.get("js/controllers/buysellcat.json").then(function(e){a.buysellcat=e.data}),e.get(n+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){a.cartlist=e.data,null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length})}]),angular.module("newapp").controller("buyprolistCtrl",["$scope","$http","$routeParams","$location","$window","resturl","$rootScope",function(a,e,t,o,r,n,i){null==i.usertype?(a.custmor=!0,a.vendor=!1):(a.custmor=!1,a.vendor=!0),a.id=t.id,"Real Estate"==t.id&&e.get("js/controllers/realestate.json").then(function(e){a.furnitureproduct=e.data}),"Furniture & Decor"==t.id&&e.get("js/controllers/FURNITURE.JSON").then(function(e){a.furnitureproduct=e.data}),"Electronics"==t.id&&e.get("js/controllers/Electronics.json").then(function(e){a.furnitureproduct=e.data}),"Kitchen Appliances"==t.id&&e.get("js/controllers/KitchenAppliances.json").then(function(e){a.furnitureproduct=e.data}),"Home Amenities"==t.id&&e.get("js/controllers/Home Amenities.json").then(function(e){a.furnitureproduct=e.data}),a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],r.scrollTo(0,0),null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.userlogged=!0):a.userlogged=!1,a.logout=function(){localStorage.clear(),o.path("/login")},a.myProfile=function(){o.path("/myaccount")},e.get(n+"/getAllCategories").then(function(e){a.menuitem=e.data.categoryData}),e.get(n+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){a.cartlist=e.data,null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length})}]),angular.module("newapp").controller("buysellproductpageCtrl",["$scope","$http","$routeParams","$location","$window","resturl","$rootScope",function(a,e,t,o,r,n,i){a.id=t.id,e.get("js/controllers/buysellproductpage.json").then(function(e){a.buysellproductproduct=e.data.buysellproductpage[t.id-1]}),"Electronics"==t.id&&e.get("js/controllers/Electronics.JSON").then(function(e){a.furnitureproduct=e.data}),"Kitchen Appliances"==t.id&&e.get("js/controllers/KitchenAppliances.json").then(function(e){a.furnitureproduct=e.data}),"Home Amenities"==t.id&&e.get("js/controllers/Home Amenities.json").then(function(e){a.furnitureproduct=e.data}),a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],r.scrollTo(0,0),null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.userlogged=!0):a.userlogged=!1,a.logout=function(){localStorage.clear(),o.path("/login")},a.myProfile=function(){o.path("/myaccount")},e.get(n+"/getAllCategories").then(function(e){a.menuitem=e.data.categoryData}),e.get(n+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){a.cartlist=e.data,null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length})}]),angular.module("newapp").controller("orderConfirmCtrl",["$scope","$http","$location","resturl",function(a,e,t,o){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.loggedInUserName=localStorage.loggedInUserName,a.userlogged=!0,e.get(o+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){a.cartlist=e.data,null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length})):(a.userlogged=!1,a.lengthofcart=0),a.logout=function(){localStorage.clear(),t.path("/login")},a.myProfile=function(){t.path("/myaccount")},e.get(o+"/getAllCategories").then(function(e){a.menuitem=e.data.categoryData}),jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("orderFailureCtrl",["$scope","$http","$location","resturl",function(a,e,t,o){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.loggedInUserName=localStorage.loggedInUserName,a.userlogged=!0,e.get(o+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){a.cartlist=e.data,null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length})):(a.userlogged=!1,a.lengthofcart=0),a.logout=function(){localStorage.clear(),t.path("/login")},a.myProfile=function(){t.path("/myaccount")},e.get(o+"/getAllCategories").then(function(e){a.menuitem=e.data.categoryData}),jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("userTermsCtrl",["$scope","$http","$location","resturl",function(a,e,t,o){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.loggedInUserName=localStorage.loggedInUserName,a.userlogged=!0,e.get(o+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){a.cartlist=e.data,null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length})):(a.userlogged=!1,a.lengthofcart=0),a.logout=function(){localStorage.clear(),t.path("/login")},a.myProfile=function(){t.path("/myaccount")},e.get(o+"/getAllCategories").then(function(e){a.menuitem=e.data.categoryData});var r,n=document.getElementsByClassName("accordion");for(r=0;r<n.length;r++)n[r].addEventListener("click",function(){this.classList.toggle("active");var e=this.nextElementSibling;e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"});jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("comingSoonCtrl",["$scope","$http","$location","resturl",function(a,e,t,o){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.loggedInUserName=localStorage.loggedInUserName,a.userlogged=!0,e.get(o+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){a.cartlist=e.data,null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length})):(a.userlogged=!1,a.lengthofcart=0),a.logout=function(){localStorage.clear(),t.path("/login")},a.myProfile=function(){t.path("/myaccount")},e.get(o+"/getAllCategories").then(function(e){a.menuitem=e.data.categoryData}),jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]),angular.module("newapp").controller("aboutUsCtrl",["$scope","$http","$location","resturl",function(a,e,t,o){a.typeOfSearch=[{name:"Category",value:"Category"},{name:"Brand",value:"Brand"},{name:"Product",value:"Product"}],null!=localStorage.loggedInUser?(a.loggedInUser=localStorage.loggedInUser,a.loggedInUserName=localStorage.loggedInUserName,a.userlogged=!0,e.get(o+"/cart/displayCart?userId="+localStorage.loggedInuserId).then(function(e){a.cartlist=e.data,null==e.data.shoppingCartItems?a.lengthofcart=0:a.lengthofcart=e.data.shoppingCartItems.length})):(a.lengthofcart=0,a.userlogged=!1),a.logout=function(){localStorage.clear(),t.path("/login")},a.myProfile=function(){t.path("/myaccount")},e.get(o+"/getAllCategories").then(function(e){a.menuitem=e.data.categoryData}),jQuery(window).scroll(function(){50<=jQuery(this).scrollTop()?jQuery("#return-to-top").fadeIn(200):jQuery("#return-to-top").fadeOut(200)}),jQuery("#return-to-top").click(function(){jQuery("body,html").animate({scrollTop:0},500)})}]);